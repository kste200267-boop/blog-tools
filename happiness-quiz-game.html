<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>í–‰ë³µ ë‹¨ì› ì •ë¦¬ í€´ì¦ˆ â€” í†µí•©ì‚¬íšŒ 2ë‹¨ì›</title>
<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
:root{
--bg:#0c0a1a;--card:#1a1730;--card2:#252042;--accent:#f472b6;--mint:#2dd4bf;--sky:#38bdf8;
--gold:#fbbf24;--text:#f1f5f9;--sub:#94a3b8;--correct:#22c55e;--wrong:#ef4444;--border:#3b3560;
}
body{font-family:'Nanum Gothic',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden;}

/* PARTICLES BG */
.bg-particles{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;}
.bg-particles span{position:absolute;border-radius:50%;animation:float linear infinite;opacity:.15;}
@keyframes float{0%{transform:translateY(100vh) rotate(0deg)}100%{transform:translateY(-100px) rotate(720deg)}}

.container{position:relative;z-index:1;max-width:680px;margin:0 auto;padding:20px;}

/* HEADER */
.game-header{text-align:center;padding:30px 0 20px;}
.game-header .badge{display:inline-block;background:var(--card2);border:1px solid var(--border);border-radius:20px;padding:4px 16px;font-size:.7rem;color:var(--accent);margin-bottom:8px;}
.game-header h1{font-size:1.8rem;font-weight:800;margin-bottom:4px;}
.game-header h1 span{background:linear-gradient(135deg,var(--accent),var(--gold));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.game-header p{color:var(--sub);font-size:.85rem;}

/* SCREENS */
.screen{display:none;animation:slideIn .4s ease;}
.screen.active{display:block;}
@keyframes slideIn{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}

/* STATS BAR */
.stats{display:flex;gap:8px;margin-bottom:20px;}
.stat{flex:1;background:var(--card);border:1px solid var(--border);border-radius:10px;padding:10px;text-align:center;}
.stat .s-val{font-size:1.4rem;font-weight:800;}
.stat .s-label{font-size:.65rem;color:var(--sub);text-transform:uppercase;letter-spacing:1px;}
.stat-score .s-val{color:var(--gold);}
.stat-combo .s-val{color:var(--accent);}
.stat-time .s-val{color:var(--sky);}

/* PROGRESS */
.q-progress{height:4px;background:var(--card2);border-radius:2px;margin-bottom:20px;overflow:hidden;}
.q-progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--gold));transition:width .4s ease;}

/* QUESTION */
.q-card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:28px;margin-bottom:16px;position:relative;overflow:hidden;}
.q-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,var(--accent),var(--gold));}
.q-num{font-size:.75rem;color:var(--accent);font-weight:700;margin-bottom:8px;}
.q-text{font-size:1.1rem;font-weight:700;line-height:1.6;}

/* OPTIONS */
.options{display:grid;gap:10px;}
.opt-btn{background:var(--card);border:2px solid var(--border);border-radius:12px;padding:16px 20px;cursor:pointer;font-family:inherit;font-size:.95rem;color:var(--text);text-align:left;transition:all .2s;display:flex;align-items:center;gap:12px;}
.opt-btn:hover:not(.disabled){border-color:var(--accent);transform:translateX(4px);background:var(--card2);}
.opt-btn .opt-num{width:32px;height:32px;border-radius:8px;background:var(--card2);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.85rem;flex-shrink:0;transition:all .2s;}
.opt-btn:hover:not(.disabled) .opt-num{background:var(--accent);color:var(--bg);}
.opt-btn.correct{border-color:var(--correct);background:rgba(34,197,94,.1);}
.opt-btn.correct .opt-num{background:var(--correct);color:#fff;}
.opt-btn.wrong{border-color:var(--wrong);background:rgba(239,68,68,.1);}
.opt-btn.wrong .opt-num{background:var(--wrong);color:#fff;}
.opt-btn.disabled{pointer-events:none;opacity:.6;}
.opt-btn.disabled.correct{opacity:1;}

/* FEEDBACK */
.feedback{margin-top:16px;padding:16px;border-radius:12px;display:none;animation:fadeIn .3s ease;}
.feedback.show{display:block;}
.feedback.fb-correct{background:rgba(34,197,94,.1);border:1px solid rgba(34,197,94,.3);}
.feedback.fb-wrong{background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.3);}
.feedback .fb-title{font-weight:800;font-size:1rem;margin-bottom:4px;}
.feedback .fb-desc{font-size:.85rem;color:var(--sub);line-height:1.6;}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

.next-btn{display:none;width:100%;margin-top:16px;padding:14px;background:linear-gradient(135deg,var(--accent),#c084fc);color:#fff;border:none;border-radius:12px;font-family:inherit;font-size:1rem;font-weight:700;cursor:pointer;transition:transform .2s;}
.next-btn:hover{transform:translateY(-2px);}
.next-btn.show{display:block;}

/* COMBO ANIMATION */
.combo-popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3rem;font-weight:800;pointer-events:none;z-index:100;animation:comboPop .8s ease forwards;}
@keyframes comboPop{0%{opacity:1;transform:translate(-50%,-50%) scale(.5)}30%{transform:translate(-50%,-50%) scale(1.3)}100%{opacity:0;transform:translate(-50%,-70%) scale(1)}}

/* RESULT */
.result-card{background:var(--card);border:1px solid var(--border);border-radius:20px;padding:36px;text-align:center;margin-bottom:20px;}
.result-card h2{font-size:1.6rem;font-weight:800;margin-bottom:8px;}
.result-emoji{font-size:4rem;margin-bottom:12px;}
.result-score{font-size:3.5rem;font-weight:800;background:linear-gradient(135deg,var(--gold),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.result-sub{color:var(--sub);font-size:.9rem;margin-top:4px;}
.result-grade{display:inline-block;padding:6px 20px;border-radius:20px;font-weight:800;font-size:1.1rem;margin-top:12px;}

.result-stats{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin:24px 0;}
.rs{background:var(--card2);border-radius:12px;padding:14px;text-align:center;}
.rs .rs-val{font-size:1.5rem;font-weight:800;}
.rs .rs-label{font-size:.7rem;color:var(--sub);margin-top:2px;}

.review-list{text-align:left;margin:20px 0;}
.review-item{padding:12px 16px;border-bottom:1px solid var(--border);display:flex;gap:12px;align-items:flex-start;}
.review-item:last-child{border:none;}
.ri-icon{font-size:1.2rem;flex-shrink:0;margin-top:2px;}
.ri-q{font-size:.85rem;line-height:1.5;}
.ri-q b{color:var(--correct);}

.btn-group{display:flex;gap:10px;justify-content:center;margin-top:20px;}
.btn-restart{padding:12px 28px;background:linear-gradient(135deg,var(--accent),#c084fc);color:#fff;border:none;border-radius:10px;font-family:inherit;font-size:.95rem;font-weight:700;cursor:pointer;}
.btn-print{padding:12px 28px;background:var(--card2);color:var(--text);border:1px solid var(--border);border-radius:10px;font-family:inherit;font-size:.95rem;font-weight:700;cursor:pointer;}

.footer{text-align:center;padding:20px;font-size:.7rem;color:var(--border);}

@media(max-width:500px){
.stats{flex-wrap:wrap;}
.stat{min-width:calc(33% - 6px);}
.result-stats{grid-template-columns:1fr 1fr 1fr;}
}
@media print{
body{background:#fff;color:#000;}
.bg-particles,.game-header,.stats,.q-progress,.btn-group,.footer{display:none;}
.screen.active{display:block;}
.result-card,.review-item{border:1px solid #ddd;background:#fff;}
}
</style>
</head>
<body>

<div class="bg-particles" id="particles"></div>

<div class="container">
<div class="game-header">
<div class="badge">í†µí•©ì‚¬íšŒ Â· 2ë‹¨ì› Â· í–‰ë³µ</div>
<h1>ğŸ¯ í–‰ë³µ í€´ì¦ˆ <span>ì±Œë¦°ì§€</span></h1>
<p>2ë‹¨ì› í•µì‹¬ ë‚´ìš©ì„ í™•ì¸í•´ ë³´ì„¸ìš”</p>
</div>

<!-- INTRO -->
<div class="screen active" id="screen-intro">
<div class="q-card" style="text-align:center;">
<h2 style="font-size:1.2rem;margin-bottom:16px;">ğŸ§  ë„ì „ ì¤€ë¹„!</h2>
<p style="color:var(--sub);line-height:1.8;margin-bottom:8px;">
ì´ <b style="color:var(--gold)">15ë¬¸ì œ</b> Â· ë¬¸í•­ë‹¹ <b style="color:var(--sky)">15ì´ˆ</b> ì œí•œ<br>
ì—°ì† ì •ë‹µ ì‹œ <b style="color:var(--accent)">ì½¤ë³´ ë³´ë„ˆìŠ¤</b> íšë“!
</p>
<p style="font-size:.8rem;color:var(--sub);margin-top:12px;">
í–‰ë³µì˜ ì˜ë¯¸ì™€ ê¸°ì¤€ + í–‰ë³µí•œ ì‚¶ì˜ ì¡°ê±´ ì „ ë²”ìœ„
</p>
</div>
<button class="btn-restart" style="width:100%;padding:16px;font-size:1.1rem;" onclick="startGame()">í€´ì¦ˆ ì‹œì‘ ğŸš€</button>
</div>

<!-- QUIZ -->
<div class="screen" id="screen-quiz">
<div class="stats">
<div class="stat stat-score"><div class="s-val" id="scoreVal">0</div><div class="s-label">ì ìˆ˜</div></div>
<div class="stat stat-combo"><div class="s-val" id="comboVal">0ğŸ”¥</div><div class="s-label">ì½¤ë³´</div></div>
<div class="stat stat-time"><div class="s-val" id="timeVal">15</div><div class="s-label">ë‚¨ì€ ì‹œê°„</div></div>
</div>
<div class="q-progress"><div class="q-progress-fill" id="qProgress"></div></div>
<div id="quizContent"></div>
</div>

<!-- RESULT -->
<div class="screen" id="screen-result"></div>
</div>

<div class="footer">í’€ì–´ì“°ëŠ” ì‚¬íšŒí•™ Â· kstephullab.com</div>

<script>
// íŒŒí‹°í´ ë°°ê²½
(function(){
const c = document.getElementById('particles');
const colors = ['#f472b6','#2dd4bf','#38bdf8','#fbbf24','#a78bfa'];
for(let i=0;i<30;i++){
const s = document.createElement('span');
const size = Math.random()*6+2;
s.style.cssText = `width:${size}px;height:${size}px;left:${Math.random()*100}%;background:${colors[i%5]};animation-duration:${Math.random()*15+10}s;animation-delay:${Math.random()*10}s;`;
c.appendChild(s);
}
})();

const allQuestions = [
// í–‰ë³µì˜ ì˜ë¯¸ì™€ ê¸°ì¤€ (8ë¬¸í•­)
{q:'"ë” ë§ì€ ì‚¬ëŒì˜ í–‰ë³µì„ ì¶”êµ¬í•˜ëŠ” ê²ƒ"ì´ë¼ê³  ì£¼ì¥í•œ ì‚¬ìƒê°€ëŠ”?',
o:['ê³µì','ì„ê°€ëª¨ë‹ˆ','ë²¤ë‹´','ì—í”¼ì¿ ë¡œìŠ¤'],a:2,
exp:'ë²¤ë‹´ì€ ê³µë¦¬ì£¼ì˜ë¥¼ ì£¼ì¥í•˜ë©°, ìµœëŒ€ ë‹¤ìˆ˜ì˜ ìµœëŒ€ í–‰ë³µì„ ê°•ì¡°í–ˆìŠµë‹ˆë‹¤.'},

{q:'ì„ê°€ëª¨ë‹ˆê°€ ë§í•œ í–‰ë³µì— ë„ë‹¬í•˜ëŠ” ë°©ë²•ì€?',
o:['ë‹¤ë¥¸ ì‚¬ëŒì„ ë°°ë ¤í•˜ê¸°','ìš•ì‹¬ì„ ë²„ë¦¬ê¸°','ë§ˆìŒì˜ í‰ì˜¨ ìœ ì§€','ë” ë§ì´ ì†Œìœ í•˜ê¸°'],a:1,
exp:'ì„ê°€ëª¨ë‹ˆëŠ” ìš•ì‹¬ì„ ë²„ë¦¬ë©´ ê³ í†µì—ì„œ ë²—ì–´ë‚˜ í–‰ë³µí•´ì§„ë‹¤ê³  ê°€ë¥´ì³¤ìŠµë‹ˆë‹¤.'},

{q:'ì„ ì‚¬ì‹œëŒ€ ì‚¬ëŒë“¤ì—ê²Œ í–‰ë³µì˜ ê¸°ì¤€ì€ ë¬´ì—‡ì´ì—ˆì„ê¹Œìš”?',
o:['í•™ë¬¸ íƒêµ¬','ì‹ ì•™ìƒí™œ','ìƒì¡´ê³¼ ì•ˆì „','ììœ ì™€ ê¶Œë¦¬'],a:2,
exp:'ì„ ì‚¬ì‹œëŒ€ì—ëŠ” ë¨¹ê³ ì‚´ê¸° ìœ„í•œ ìƒì¡´ ìì²´ê°€ ê°€ì¥ í° í–‰ë³µì´ì—ˆìŠµë‹ˆë‹¤.'},

{q:'"ë§ˆìŒì˜ í‰ì˜¨ì´ ì§„ì§œ í–‰ë³µì´ë‹¤"ë¼ê³  ì£¼ì¥í•œ ì‚¬ìƒê°€ëŠ”?',
o:['ê³µì','ì—í”¼ì¿ ë¡œìŠ¤','ë²¤ë‹´','ì•„ë¦¬ìŠ¤í† í…”ë ˆìŠ¤'],a:1,
exp:'ì—í”¼ì¿ ë¡œìŠ¤ëŠ” ê°ê°ì  ì¾Œë½ë³´ë‹¤ ë§ˆìŒì˜ í‰ì˜¨(ì•„íƒ€ë½ì‹œì•„)ì„ ì§„ì •í•œ í–‰ë³µìœ¼ë¡œ ë³´ì•˜ìŠµë‹ˆë‹¤.'},

{q:'ì‹œëŒ€ì— ë”°ë¼ í–‰ë³µì˜ ê¸°ì¤€ì´ ë‹¤ë¥¸ ì´ìœ ë¡œ ì ì ˆí•œ ê²ƒì€?',
o:['ì‚¬ëŒì˜ ì„±ê²©ì´ ë‹¬ë¼ì„œ','ì‚¬íšŒ í™˜ê²½ê³¼ ê°€ì¹˜ê´€ì´ ë³€í•˜ê¸° ë•Œë¬¸','ë‚ ì”¨ê°€ ë‹¬ë¼ì„œ','ì¸êµ¬ê°€ ëŠ˜ì–´ì„œ'],a:1,
exp:'ì‹œëŒ€ë§ˆë‹¤ ì‚¬íšŒ êµ¬ì¡°ì™€ ê°€ì¹˜ê´€ì´ ë‹¬ë¼ì§€ë¯€ë¡œ í–‰ë³µì˜ ê¸°ì¤€ë„ í•¨ê»˜ ë³€í•©ë‹ˆë‹¤.'},

{q:'ì•„ë¦¬ìŠ¤í† í…”ë ˆìŠ¤ê°€ ë§í•œ í–‰ë³µ(ì—ìš°ë‹¤ì´ëª¨ë‹ˆì•„)ì˜ ì˜ë¯¸ëŠ”?',
o:['ì¾Œë½ì˜ ê·¹ëŒ€í™”','ì‚¶ì˜ ê¶ê·¹ì  ëª©ì ','ê²½ì œì  í’ìš”','ì‹ ì•™ì‹¬'],a:1,
exp:'ì•„ë¦¬ìŠ¤í† í…”ë ˆìŠ¤ëŠ” í–‰ë³µì„ ì¸ê°„ ì‚¶ì˜ ê¶ê·¹ì  ëª©ì ì´ì ìµœê³ ì˜ ì„ ìœ¼ë¡œ ë³´ì•˜ìŠµë‹ˆë‹¤.'},

{q:'ê·¼í˜„ëŒ€ì— í–‰ë³µì˜ ê¸°ì¤€ìœ¼ë¡œ ìƒˆë¡­ê²Œ ë“±ì¥í•œ ê°€ì¹˜ëŠ”?',
o:['ì‹ ì•™ê³¼ ë‚´ì„¸','ìƒì¡´ê³¼ ì‚¬ëƒ¥','ììœ ì™€ ê¶Œë¦¬','ë•ê³¼ ì§€í˜œ'],a:2,
exp:'ê·¼í˜„ëŒ€ì—ëŠ” ê°œì¸ì˜ ììœ ì™€ ê¶Œë¦¬ê°€ í–‰ë³µì˜ ì¤‘ìš”í•œ ê¸°ì¤€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.'},

{q:'ê³µìê°€ ê°•ì¡°í•œ í–‰ë³µì˜ í•µì‹¬ì€?',
o:['ìš•ì‹¬ ë²„ë¦¬ê¸°','ë‹¤ë¥¸ ì‚¬ëŒì„ ë°°ë ¤í•˜ê³  ë„ë•ì ìœ¼ë¡œ ì‚´ê¸°','ë§ˆìŒì˜ í‰ì˜¨','ìµœëŒ€ ë‹¤ìˆ˜ì˜ í–‰ë³µ'],a:1,
exp:'ê³µìëŠ” ì¸(ä»), ì¦‰ ë‹¤ë¥¸ ì‚¬ëŒì„ ë°°ë ¤í•˜ê³  ë„ë•ì ìœ¼ë¡œ ì‚¬ëŠ” ê²ƒì´ í–‰ë³µì´ë¼ê³  í–ˆìŠµë‹ˆë‹¤.'},

// í–‰ë³µí•œ ì‚¶ì˜ ì¡°ê±´ (7ë¬¸í•­)
{q:'í–‰ë³µí•œ ì‚¶ì„ ìœ„í•œ 4ê°€ì§€ ì¡°ê±´ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ê²ƒì€?',
o:['ì§ˆ ë†’ì€ ì •ì£¼í™˜ê²½','ë†’ì€ í•™ë ¥','ê²½ì œì  ì•ˆì •','ë¯¼ì£¼ì£¼ì˜ ë°œì „'],a:1,
exp:'êµê³¼ì„œì—ì„œ ì œì‹œí•˜ëŠ” 4ê°€ì§€ ì¡°ê±´ì€ ì •ì£¼í™˜ê²½, ê²½ì œì  ì•ˆì •, ë¯¼ì£¼ì£¼ì˜, ë„ë•ì  ì‹¤ì²œì…ë‹ˆë‹¤.'},

{q:'"ë°˜ê²½ 5km ë‚´ ë³‘ì›Â·í•™êµê°€ ì—†ë‹¤"ëŠ” ì–´ë–¤ ì¡°ê±´ì´ ë¶€ì¡±í•œ ê²ƒì¼ê¹Œìš”?',
o:['ê²½ì œì  ì•ˆì •','ë¯¼ì£¼ì£¼ì˜ ë°œì „','ì§ˆ ë†’ì€ ì •ì£¼í™˜ê²½','ë„ë•ì  ì‹¤ì²œ'],a:2,
exp:'ìƒí™œì— í•„ìš”í•œ ì‹œì„¤ì´ ê°–ì¶°ì§„ í™˜ê²½ì„ ì§ˆ ë†’ì€ ì •ì£¼í™˜ê²½ì´ë¼ê³  í•©ë‹ˆë‹¤.'},

{q:'ì„¸ê³„ í–‰ë³µì§€ìˆ˜ì—ì„œ í•œêµ­ì´ ê°€ì¥ ë†’ì€ ìˆœìœ„ë¥¼ ê¸°ë¡í•œ ìš”ì¸ì€?',
o:['ê´€ìš©','ê±´ê°• ê¸°ëŒ€ ìˆ˜ëª…','ì‚¶ì„ ì„ íƒí•  ììœ ','ì‚¬íšŒì  ì§€ì§€'],a:1,
exp:'í•œêµ­ì€ ê±´ê°• ê¸°ëŒ€ ìˆ˜ëª…ì—ì„œ ì„¸ê³„ 4ìœ„ë¥¼ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤.'},

{q:'ì„¸ê³„ í–‰ë³µì§€ìˆ˜ì—ì„œ í•œêµ­ì´ 107ìœ„ë¡œ ê°€ì¥ ë‚®ì€ ìš”ì¸ì€?',
o:['1ì¸ë‹¹ GDP','ë¶€ì •ë¶€íŒ¨ ì¸ì‹','ì‚¬íšŒì  ì§€ì§€','ì‚¶ì„ ì„ íƒí•  ììœ '],a:3,
exp:'ì‚¶ì„ ì„ íƒí•  ììœ ê°€ 107ìœ„ë¡œ í•œêµ­ì—ì„œ ê°€ì¥ ë¶€ì¡±í•œ ì˜ì—­ì…ë‹ˆë‹¤.'},

{q:'íˆ¬í‘œìœ¨ì´ ë‚®ì•„ì§€ëŠ” í˜„ìƒì€ ì–´ë–¤ ì¡°ê±´ê³¼ ê´€ë ¨ì´ ìˆë‚˜ìš”?',
o:['ì •ì£¼í™˜ê²½','ê²½ì œì  ì•ˆì •','ë¯¼ì£¼ì£¼ì˜ ë°œì „','ë„ë•ì  ì‹¤ì²œ'],a:2,
exp:'ì‹œë¯¼ì´ ì •ì¹˜ì— ì°¸ì—¬í•˜ëŠ” ê²ƒì€ ë¯¼ì£¼ì£¼ì˜ ë°œì „ê³¼ ê´€ë ¨ë©ë‹ˆë‹¤.'},

{q:'ë‹¤ë¥¸ ì‚¬ëŒì„ ë°°ë ¤í•˜ê³  ë‚˜ëˆ”ì„ ì‹¤ì²œí•˜ëŠ” ê²ƒì€ ì–´ë–¤ ì¡°ê±´ì¸ê°€ìš”?',
o:['ì§ˆ ë†’ì€ ì •ì£¼í™˜ê²½','ê²½ì œì  ì•ˆì •','ë¯¼ì£¼ì£¼ì˜ ë°œì „','ë„ë•ì  ì‹¤ì²œ'],a:3,
exp:'ì´íƒ€ì  í–‰ë™ê³¼ ë°°ë ¤ëŠ” ë„ë•ì  ì‹¤ì²œì— í•´ë‹¹í•˜ë©°, í–‰ë³µê°ì„ ë†’ì—¬ì¤ë‹ˆë‹¤.'},

{q:'í–‰ë³µí•œ ì‚¶ì˜ ì¡°ê±´ ì¤‘ "ê¸°ë³¸ ìƒí™œì„ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ì†Œë“"ì€?',
o:['ì§ˆ ë†’ì€ ì •ì£¼í™˜ê²½','ê²½ì œì  ì•ˆì •','ë¯¼ì£¼ì£¼ì˜ ë°œì „','ë„ë•ì  ì‹¤ì²œ'],a:1,
exp:'ë¨¹ê³ ì‚¬ëŠ” ë¬¸ì œê°€ í•´ê²°ë˜ëŠ” ê²ƒ, ì¦‰ ê²½ì œì  ì•ˆì •ì´ í–‰ë³µì˜ ê¸°ë³¸ ì¡°ê±´ì…ë‹ˆë‹¤.'},
];

let questions, current, score, combo, maxCombo, correct, timer, timeLeft;
let results = [];

function shuffle(arr){
const a=[...arr];
for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}
return a;
}

function startGame(){
questions = shuffle(allQuestions).slice(0,15);
current=0; score=0; combo=0; maxCombo=0; correct=0; results=[];
document.getElementById('screen-intro').classList.remove('active');
document.getElementById('screen-quiz').classList.add('active');
showQuestion();
}

function startTimer(){
timeLeft=15;
document.getElementById('timeVal').textContent=timeLeft;
clearInterval(timer);
timer=setInterval(()=>{
timeLeft--;
document.getElementById('timeVal').textContent=timeLeft;
if(timeLeft<=5) document.getElementById('timeVal').style.color='var(--wrong)';
if(timeLeft<=0){clearInterval(timer);timeUp();}
},1000);
}

function timeUp(){
// ì‹œê°„ ì´ˆê³¼ = ì˜¤ë‹µ ì²˜ë¦¬
combo=0;
results.push({q:questions[current].q,correct:false,answer:'ì‹œê°„ ì´ˆê³¼',correctAnswer:questions[current].o[questions[current].a]});
document.querySelectorAll('.opt-btn').forEach(b=>b.classList.add('disabled'));
document.querySelectorAll('.opt-btn')[questions[current].a].classList.add('correct');
const fb=document.getElementById('feedback');
fb.className='feedback show fb-wrong';
fb.innerHTML=`<div class="fb-title">â° ì‹œê°„ ì´ˆê³¼!</div><div class="fb-desc">ì •ë‹µ: <b>${questions[current].o[questions[current].a]}</b><br>${questions[current].exp}</div>`;
document.getElementById('nextBtn').classList.add('show');
updateStats();
}

function showQuestion(){
const q=questions[current];
document.getElementById('qProgress').style.width=((current/15)*100)+'%';
document.getElementById('timeVal').style.color='var(--sky)';
const labels=['â‘ ','â‘¡','â‘¢','â‘£'];
document.getElementById('quizContent').innerHTML=`
<div class="q-card">
<div class="q-num">Q${current+1} / 15</div>
<div class="q-text">${q.q}</div>
</div>
<div class="options">
${q.o.map((o,i)=>`<button class="opt-btn" onclick="answer(${i})"><span class="opt-num">${labels[i]}</span>${o}</button>`).join('')}
</div>
<div class="feedback" id="feedback"></div>
<button class="next-btn" id="nextBtn" onclick="nextQuestion()">${current<14?'ë‹¤ìŒ ë¬¸ì œ â†’':'ê²°ê³¼ ë³´ê¸° ğŸ†'}</button>`;
startTimer();
}

function answer(idx){
clearInterval(timer);
const q=questions[current];
const btns=document.querySelectorAll('.opt-btn');
btns.forEach(b=>b.classList.add('disabled'));

const fb=document.getElementById('feedback');
if(idx===q.a){
btns[idx].classList.add('correct');
combo++;
if(combo>maxCombo)maxCombo=combo;
correct++;
let bonus = 10 + Math.min(combo-1,5)*2 + Math.max(0,timeLeft);
score+=bonus;
fb.className='feedback show fb-correct';
fb.innerHTML=`<div class="fb-title">âœ… ì •ë‹µ! +${bonus}ì </div><div class="fb-desc">${q.exp}</div>`;
if(combo>=3) showCombo();
results.push({q:q.q,correct:true,answer:q.o[idx],correctAnswer:q.o[q.a]});
}else{
btns[idx].classList.add('wrong');
btns[q.a].classList.add('correct');
combo=0;
fb.className='feedback show fb-wrong';
fb.innerHTML=`<div class="fb-title">âŒ ì˜¤ë‹µ</div><div class="fb-desc">ì •ë‹µ: <b>${q.o[q.a]}</b><br>${q.exp}</div>`;
results.push({q:q.q,correct:false,answer:q.o[idx],correctAnswer:q.o[q.a]});
}
document.getElementById('nextBtn').classList.add('show');
updateStats();
}

function updateStats(){
document.getElementById('scoreVal').textContent=score;
document.getElementById('comboVal').textContent=combo+'ğŸ”¥';
}

function showCombo(){
const el=document.createElement('div');
el.className='combo-popup';
el.textContent=combo+'ì—°ì†ğŸ”¥';
el.style.color=['','','','#fbbf24','#f472b6','#2dd4bf','#a78bfa'][Math.min(combo,6)];
document.body.appendChild(el);
setTimeout(()=>el.remove(),800);
}

function nextQuestion(){
current++;
if(current>=15)showResult();
else showQuestion();
}

function showResult(){
document.getElementById('screen-quiz').classList.remove('active');
document.getElementById('screen-result').classList.add('active');

let emoji,grade,gradeColor;
const pct=Math.round(correct/15*100);
if(pct>=90){emoji='ğŸ†';grade='Së“±ê¸‰';gradeColor='linear-gradient(135deg,#fbbf24,#f97316)';}
else if(pct>=70){emoji='ğŸ‰';grade='Aë“±ê¸‰';gradeColor='linear-gradient(135deg,#22c55e,#2dd4bf)';}
else if(pct>=50){emoji='ğŸ˜Š';grade='Bë“±ê¸‰';gradeColor='linear-gradient(135deg,#38bdf8,#818cf8)';}
else{emoji='ğŸ’ª';grade='Cë“±ê¸‰';gradeColor='linear-gradient(135deg,#f472b6,#c084fc)';}

document.getElementById('screen-result').innerHTML=`
<div class="result-card">
<div class="result-emoji">${emoji}</div>
<h2>í€´ì¦ˆ ì™„ë£Œ!</h2>
<div class="result-score">${score}ì </div>
<div class="result-sub">15ë¬¸ì œ ì¤‘ ${correct}ë¬¸ì œ ì •ë‹µ (${pct}%)</div>
<div class="result-grade" style="background:${gradeColor};color:#fff;">${grade}</div>

<div class="result-stats">
<div class="rs"><div class="rs-val" style="color:var(--correct)">${correct}</div><div class="rs-label">ì •ë‹µ</div></div>
<div class="rs"><div class="rs-val" style="color:var(--wrong)">${15-correct}</div><div class="rs-label">ì˜¤ë‹µ</div></div>
<div class="rs"><div class="rs-val" style="color:var(--accent)">${maxCombo}ğŸ”¥</div><div class="rs-label">ìµœëŒ€ ì½¤ë³´</div></div>
</div>
</div>

${results.filter(r=>!r.correct).length > 0 ? `
<div class="q-card">
<h3 style="margin-bottom:12px;">ğŸ“ í‹€ë¦° ë¬¸ì œ ë³µìŠµ</h3>
<div class="review-list">
${results.filter(r=>!r.correct).map(r=>`
<div class="review-item">
<span class="ri-icon">âŒ</span>
<div class="ri-q">${r.q}<br>ë‚´ ë‹µ: ${r.answer} â†’ ì •ë‹µ: <b>${r.correctAnswer}</b></div>
</div>`).join('')}
</div>
</div>` : '<div class="q-card" style="text-align:center;"><h3>ğŸ¯ ì „ë¬¸ ë§Œì ! ì™„ë²½í•©ë‹ˆë‹¤!</h3></div>'}

<div class="btn-group">
<button class="btn-restart" onclick="location.reload()">ğŸ”„ ë‹¤ì‹œ ë„ì „</button>
<button class="btn-print" onclick="window.print()">ğŸ–¨ï¸ ê²°ê³¼ ì¸ì‡„</button>
</div>`;
}
</script>
</body>
</html>
