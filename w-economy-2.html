<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2ì°¨ì‹œ: ìì‚° ê´€ë¦¬ ì›ì¹™ê³¼ í¬íŠ¸í´ë¦¬ì˜¤ (ê¹€ìŠ¤ë°ë°˜ T)</title>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background: #f0fdf4; color: #1e293b; user-select: none; overflow-x: hidden; }
        .jua { font-family: 'Jua', sans-serif; }
        
        /* ìŠ¬ë¼ì´ë“œ ì»¨í…Œì´ë„ˆ */
        .slide-container { display: none; animation: slideIn 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards; min-height: 75vh; padding-bottom: 80px; }
        .slide-active { display: block; }
        
        @keyframes slideIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes bounce-gentle { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        
        /* êµìœ¡ê³¼ì • ë°°ì§€ */
        .badge { padding: 4px 12px; border-radius: 99px; font-size: 0.8rem; font-weight: bold; background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.2); }
        
        /* ì›Œí„°ë§ˆí¬ */
        .watermark { position: fixed; bottom: 20px; right: 20px; font-size: 14px; color: rgba(0,0,0,0.2); font-weight: bold; pointer-events: none; z-index: 9999; }

        /* ê·¸ë˜í”„ ê²Œì„ ìŠ¤íƒ€ì¼ */
        .graph-zone {
            position: relative; width: 100%; height: 350px; background: white;
            border-left: 4px solid #333; border-bottom: 4px solid #333;
            margin: 20px 0; border-radius: 0 0 10px 0;
        }
        .graph-zone::before { content: 'ìˆ˜ìµì„±'; position: absolute; top: -30px; left: -10px; font-weight: bold; font-size: 1.1rem; color: #ef4444; }
        .graph-zone::after { content: 'ì•ˆì „ì„±'; position: absolute; bottom: -30px; right: 0; font-weight: bold; font-size: 1.1rem; color: #3b82f6; }
        
        .drop-target {
            position: absolute; width: 100px; height: 100px; border-radius: 50%;
            border: 3px dashed #cbd5e1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            font-size: 0.9rem; text-align: center; cursor: pointer; transition: all 0.3s;
            background: rgba(255,255,255,0.9); box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        .drop-target:hover { background: #e0f2fe; border-color: #3b82f6; transform: scale(1.1); z-index: 10; }
        .drop-target.correct { background: #dcfce7; border-color: #22c55e; color: #15803d; border-style: solid; animation: pop 0.3s; }
        .drop-target.wrong { background: #fee2e2; border-color: #ef4444; animation: shake 0.3s; }

        /* í¬íŠ¸í´ë¦¬ì˜¤ ìŠ¬ë¼ì´ë” */
        .range-slider {
            -webkit-appearance: none; width: 100%; height: 15px; border-radius: 5px; background: #e5e7eb; outline: none; border: 1px solid #d1d5db;
        }
        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none; width: 28px; height: 28px; border-radius: 50%; 
            background: #4f46e5; cursor: pointer; transition: .2s; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        /* 3ì›ì¹™ ì¹´ë“œ */
        .principle-card {
            background: white; border-radius: 1.5rem; padding: 1.5rem; text-align: center;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05); transition: all 0.3s; border: 2px solid transparent;
            display: flex; flex-direction: column; justify-content: space-between; height: 100%; cursor: pointer;
        }
        .principle-card:hover { transform: translateY(-8px); border-color: #4f46e5; box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); }
        .principle-card:active { transform: scale(0.98); }

        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
    </style>
</head>
<body class="p-4 md:p-8 min-h-screen flex flex-col" oncontextmenu="return false" ondragstart="return false" onselectstart="return false">

    <!-- ì›Œí„°ë§ˆí¬ -->
    <div class="watermark">Designed by ê²½ë¶êµìœ¡ì²­ êµì‚¬ ê¹€ìŠ¤ë°ë°˜ (ë¬´ë‹¨ ë°°í¬ ê¸ˆì§€)</div>

    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="bg-indigo-900 text-white p-6 rounded-[2rem] shadow-xl mb-8 relative overflow-hidden border-t-4 border-indigo-400">
        <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl">ğŸ“ˆ</div>
        <div class="relative z-10 text-center">
            <div class="flex flex-wrap justify-center gap-2 mb-4">
                <span class="badge text-indigo-200">í†µí•©ì‚¬íšŒ</span>
                <span class="badge text-blue-200">IV. ì‹œì¥ ê²½ì œì™€ ì§€ì†ê°€ëŠ¥ë°œì „</span>
                <span class="badge text-yellow-200">3. ìì‚° ê´€ë¦¬ì™€ ê¸ˆìœµ ìƒí™œ</span>
            </div>
            <div class="bg-indigo-800/50 rounded-xl p-4 max-w-4xl mx-auto border border-indigo-700/50 backdrop-blur-sm">
                <span class="text-indigo-300 font-bold mr-2 text-sm md:text-base">[10í†µì‚¬2-03-03]</span>
                <span class="text-slate-200 text-sm md:text-base font-light leading-relaxed break-keep">
                    ê¸ˆìœµ ìì‚°ì˜ íŠ¹ì§•ê³¼ ìì‚° ê´€ë¦¬ì˜ ì›ì¹™ì„ í† ëŒ€ë¡œ ê¸ˆìœµ ìƒí™œì„ ì„¤ê³„í•˜ê³ , ê²½ì œì , ì‚¬íšŒì  í™˜ê²½ì˜ ë³€í™”ê°€ ê¸ˆìœµê³¼ ê´€ë ¨í•œ ì˜ì‚¬ ê²°ì •ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ íƒêµ¬í•œë‹¤.
                </span>
            </div>
        </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="max-w-5xl mx-auto w-full flex-1 relative bg-white/60 rounded-[2.5rem] p-6 md:p-10 shadow-sm backdrop-blur-sm border border-white">
        
        <!-- Slide 1: ì˜¤í”„ë‹ -->
        <div id="slide-1" class="slide-container slide-active flex flex-col items-center justify-center text-center py-10">
            <div class="text-9xl mb-6 animate-bounce">ğŸ¥š</div>
            <h1 class="jua text-5xl md:text-6xl text-indigo-900 mb-6">ìì‚° ê´€ë¦¬ì˜ ì›ì¹™ê³¼ í¬íŠ¸í´ë¦¬ì˜¤</h1>
            <p class="text-xl text-slate-600 mb-10 max-w-2xl leading-relaxed">
                "ê³„ë€ì„ í•œ ë°”êµ¬ë‹ˆì— ë‹´ì§€ ë§ˆë¼!"<br>
                íˆ¬ì ê³ ìˆ˜ë“¤ì˜ í•„ìŠ¹ ì „ëµ, <b>ë¶„ì‚° íˆ¬ì</b>ì˜ ë¹„ë°€ì„ ë°í˜€ë´…ì‹œë‹¤.
            </p>
            <button onclick="nextSlide(2)" class="bg-indigo-600 hover:bg-indigo-700 text-white text-2xl jua py-4 px-16 rounded-2xl shadow-lg transition-transform hover:scale-105 flex items-center gap-3">
                <span>ë¯¸ì…˜ ì‹œì‘í•˜ê¸° â–¶</span>
            </button>
        </div>

        <!-- Slide 2: ìì‚° ê´€ë¦¬ 3ì›ì¹™ (ì„¤ëª… ìˆ˜ì •ë¨) -->
        <div id="slide-2" class="slide-container">
            <h2 class="jua text-3xl text-indigo-900 mb-8 border-l-8 border-indigo-500 pl-4">01. ìì‚° ê´€ë¦¬ì˜ 3ì›ì¹™</h2>
            <p class="text-center text-slate-500 mb-6 text-sm">ğŸ‘‡ ì¹´ë“œë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸í•œ ì„¤ëª…ì„ ë“¤ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 items-stretch">
                <!-- ìˆ˜ìµì„± -->
                <div class="principle-card group" onclick="speak('ìˆ˜ìµì„±ì€ íˆ¬ìí•œ ëˆì´ ì–¼ë§ˆë‚˜ ë¶ˆì–´ë‚  ìˆ˜ ìˆëŠ”ì§€ì…ë‹ˆë‹¤. ì£¼ì‹ì´ë‚˜ í€ë“œëŠ” ìˆ˜ìµì´ ë†’ì„ ìˆ˜ ìˆì§€ë§Œ ê·¸ë§Œí¼ ìœ„í—˜ë„ í½ë‹ˆë‹¤.')">
                    <div>
                        <div class="text-6xl mb-4 group-hover:scale-110 transition">ğŸ’°</div>
                        <h3 class="jua text-2xl text-slate-800 mb-3">ìˆ˜ìµì„±</h3>
                        <div class="h-px w-10 bg-slate-200 mx-auto mb-4"></div>
                        <p class="text-slate-600 text-sm leading-relaxed mb-4 break-keep">
                            íˆ¬ìí•œ ëˆì´ ì–¼ë§ˆë‚˜ <b>í° ì´ìµ</b>ìœ¼ë¡œ ëŒì•„ì˜¬ê¹Œìš”?<br>
                            <span class="text-xs text-slate-400 block mt-1">("ëŒ€ë°• ì•„ë‹ˆë©´ ìª½ë°•?")</span>
                        </p>
                    </div>
                    <div class="bg-red-50 text-red-600 py-3 rounded-xl font-bold text-sm border border-red-100 flex items-center justify-center gap-2">
                        ğŸ”¥ ì£¼ì‹, í€ë“œ
                    </div>
                </div>

                <!-- ì•ˆì „ì„± -->
                <div class="principle-card group" onclick="speak('ì•ˆì „ì„±ì€ ì›ê¸ˆì´ ì¤„ì–´ë“¤ì§€ ì•Šê³  ë³´ì¥ë˜ëŠ” ì •ë„ì…ë‹ˆë‹¤. ì˜ˆê¸ˆì€ ì•ˆì „í•˜ì§€ë§Œ ìˆ˜ìµì´ ë‚®ìŠµë‹ˆë‹¤.')">
                    <div>
                        <div class="text-6xl mb-4 group-hover:scale-110 transition">ğŸ›¡ï¸</div>
                        <h3 class="jua text-2xl text-slate-800 mb-3">ì•ˆì „ì„±</h3>
                        <div class="h-px w-10 bg-slate-200 mx-auto mb-4"></div>
                        <p class="text-slate-600 text-sm leading-relaxed mb-4 break-keep">
                            ë‚´ <b>ì›ê¸ˆ</b>ì´ ë–¼ì´ì§€ ì•Šê³  ì•ˆì „í•˜ê²Œ ë³´ì¥ë˜ë‚˜ìš”?<br>
                            <span class="text-xs text-slate-400 block mt-1">("ë§ˆìŒ í¸í•œ ê²Œ ìµœê³ !")</span>
                        </p>
                    </div>
                    <div class="bg-blue-50 text-blue-600 py-3 rounded-xl font-bold text-sm border border-blue-100 flex items-center justify-center gap-2">
                        ğŸ›¡ï¸ ì˜ˆê¸ˆ, ì ê¸ˆ, êµ­ì±„
                    </div>
                </div>

                <!-- ìœ ë™ì„± -->
                <div class="principle-card group" onclick="speak('ìœ ë™ì„±ì€ í•„ìš”í•  ë•Œ ì¦‰ì‹œ í˜„ê¸ˆìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆëŠ” ì •ë„ì…ë‹ˆë‹¤. ë¶€ë™ì‚°ì€ íŒŒëŠ” ë° ëª‡ ë‹¬ì´ ê±¸ë ¤ ìœ ë™ì„±ì´ ë‚®ìŠµë‹ˆë‹¤.')">
                    <div>
                        <div class="text-6xl mb-4 group-hover:scale-110 transition">ğŸ’§</div>
                        <h3 class="jua text-2xl text-slate-800 mb-3">ìœ ë™ì„±</h3>
                        <div class="h-px w-10 bg-slate-200 mx-auto mb-4"></div>
                        <p class="text-slate-600 text-sm leading-relaxed mb-4 break-keep">
                            í•„ìš”í•  ë•Œ <b>ì¦‰ì‹œ í˜„ê¸ˆ</b>ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆë‚˜ìš”?<br>
                            <span class="text-xs text-slate-400 block mt-1">("ê¸‰ì „ì´ í•„ìš”í•  ë•Œ!")</span>
                        </p>
                    </div>
                    <div class="bg-indigo-50 text-indigo-600 py-3 rounded-xl font-bold text-sm border border-indigo-100 flex items-center justify-center gap-2">
                        ğŸ’§ í˜„ê¸ˆ, ìˆ˜ì‹œì…ì¶œê¸ˆ
                    </div>
                </div>
            </div>

            <div class="bg-amber-50 p-6 rounded-2xl border border-amber-200 flex items-start gap-4 shadow-sm">
                <span class="text-3xl">âš–ï¸</span>
                <div>
                    <h4 class="font-bold text-amber-800 mb-1">ìƒì¶© ê´€ê³„ (Trade-off)</h4>
                    <p class="text-sm text-amber-800 leading-relaxed">
                        ì„¸ ë§ˆë¦¬ í† ë¼ë¥¼ ë‹¤ ì¡ëŠ” <b>ì™„ë²½í•œ ê¸ˆìœµ ìƒí’ˆì€ ì—†ìŠµë‹ˆë‹¤.</b><br>
                        â€¢ <b>ì£¼ì‹:</b> ìˆ˜ìµì„±ì€ ë†’ì§€ë§Œ ì•ˆì „ì„±ì€ ë‚®ìŒ<br>
                        â€¢ <b>ë¶€ë™ì‚°:</b> ì•ˆì „í•  ìˆ˜ ìˆì§€ë§Œ ìœ ë™ì„±(í˜„ê¸ˆí™” ì†ë„)ì´ ë§¤ìš° ë‚®ìŒ
                    </p>
                </div>
            </div>

            <div class="flex justify-between mt-8">
                <button onclick="prevSlide(1)" class="text-slate-400 hover:text-slate-600 font-bold px-4 py-2 hover:bg-slate-100 rounded-lg transition">â—€ ì´ì „</button>
                <button onclick="nextSlide(3)" class="bg-indigo-600 text-white px-8 py-3 rounded-xl hover:bg-indigo-700 font-bold shadow-md transition-transform hover:scale-105">ë‹¤ìŒ: ê·¸ë˜í”„ ë¯¸ì…˜ â–¶</button>
            </div>
        </div>

        <!-- Slide 3: [ê²Œì„] ê·¸ë˜í”„ ìœ„ì¹˜ ì°¾ê¸° -->
        <div id="slide-3" class="slide-container">
            <div class="flex items-center justify-between mb-6 border-l-8 border-green-500 pl-4">
                <h2 class="jua text-3xl text-slate-800">02. ë¯¸ì…˜: ìì‚° ìœ„ì¹˜ ì°¾ê¸°</h2>
            </div>
            
            <!-- [ìˆ˜ì •ë¨] ì´ˆëŒ€í˜• ë¬¸ì œ í‘œì‹œ ë°°ë„ˆ -->
            <div class="bg-green-50 border-4 border-green-400 rounded-3xl p-8 text-center mb-8 shadow-lg transform transition-all hover:scale-[1.01]">
                <p class="text-green-700 font-bold text-xl mb-4">ğŸ‘‡ ì•„ë˜ ìì‚°ì€ ê·¸ë˜í”„ì˜ ì–´ëŠ êµ¬ì—­ì¼ê¹Œìš”?</p>
                <div class="inline-block bg-white px-16 py-6 rounded-2xl border-2 border-green-200 shadow-md">
                    <span class="text-5xl mr-3 align-middle">ğŸ¯</span>
                    <span id="game-quest" class="jua text-7xl text-green-900 drop-shadow-sm align-middle">ì£¼ì‹</span>
                </div>
            </div>

            <!-- ê·¸ë˜í”„ ì˜ì—­ -->
            <div class="graph-zone relative rounded-lg shadow-inner bg-slate-50 overflow-hidden">
                <!-- ë°°ê²½ ê·¸ë¦¬ë“œ -->
                <div class="absolute inset-0 pointer-events-none" style="background-image: linear-gradient(#e2e8f0 1px, transparent 1px), linear-gradient(90deg, #e2e8f0 1px, transparent 1px); background-size: 25px 25px; opacity: 0.6;"></div>

                <!-- Zone 1: ê³ ìˆ˜ìµ/ì €ì•ˆì „ (ì¢Œìƒë‹¨) -->
                <div class="drop-target" style="top: 8%; left: 8%;" onclick="checkGraphAnswer('stock', this)">
                    <span class="pointer-events-none font-bold text-slate-700 text-lg">A êµ¬ì—­<br><span class="text-sm font-normal text-slate-500">ê³ ìˆ˜ìµ / ì €ì•ˆì „</span></span>
                </div>

                <!-- Zone 2: ì¤‘ìˆ˜ìµ/ì¤‘ì•ˆì „ (ì¤‘ì•™) -->
                <div class="drop-target" style="top: 40%; left: 40%;" onclick="checkGraphAnswer('bond', this)">
                    <span class="pointer-events-none font-bold text-slate-700 text-lg">B êµ¬ì—­<br><span class="text-sm font-normal text-slate-500">ì¤‘ìˆ˜ìµ / ì¤‘ì•ˆì „</span></span>
                </div>

                <!-- Zone 3: ì €ìˆ˜ìµ/ê³ ì•ˆì „ (ìš°í•˜ë‹¨) -->
                <div class="drop-target" style="top: 68%; left: 68%;" onclick="checkGraphAnswer('deposit', this)">
                    <span class="pointer-events-none font-bold text-slate-700 text-lg">C êµ¬ì—­<br><span class="text-sm font-normal text-slate-500">ì €ìˆ˜ìµ / ê³ ì•ˆì „</span></span>
                </div>
                
                <!-- ì¶• ì„¤ëª… -->
                <div class="absolute bottom-2 right-4 text-blue-600 font-bold">ì•ˆì „ì„± (ë†’ìŒ) â¡</div>
                <div class="absolute top-4 left-2 text-red-600 font-bold">â¬† ìˆ˜ìµì„± (ë†’ìŒ)</div>
            </div>

            <div id="game-feedback" class="text-center h-10 font-bold text-xl text-slate-700 mt-4"></div>

            <div class="flex justify-between mt-8">
                <button onclick="prevSlide(2)" class="text-slate-400 hover:text-slate-600 font-bold px-4 py-2 hover:bg-slate-100 rounded-lg transition">â—€ ì´ì „</button>
                <button id="btn-next-step3" onclick="nextSlide(4)" class="bg-indigo-600 text-white px-8 py-3 rounded-xl hover:bg-indigo-700 font-bold shadow-md opacity-50 pointer-events-none transition-all">ëª¨ë“  ë¯¸ì…˜ ì™„ë£Œ ì‹œ ì˜¤í”ˆ ğŸ”’</button>
            </div>
        </div>

        <!-- Slide 4: 100-ë‚˜ì´ ë²•ì¹™ -->
        <div id="slide-4" class="slide-container">
            <h2 class="jua text-3xl text-slate-800 mb-6 border-l-8 border-pink-500 pl-4">03. 100 - ë‚˜ì´ ë²•ì¹™</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <!-- ì„¤ëª… -->
                <div class="space-y-4">
                    <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-200">
                        <h3 class="font-bold text-xl mb-3 text-pink-600 flex items-center gap-2">ğŸ§® ê³µì‹ì˜ ì˜ë¯¸</h3>
                        <p class="text-slate-700 leading-loose text-lg">
                            <b class="text-slate-900 bg-red-50 px-2 py-1 rounded">100 - (ìì‹ ì˜ ë‚˜ì´)</b> <br> = <span class="text-red-500 font-bold">ê³µê²©ì  íˆ¬ì(ì£¼ì‹)</span> ë¹„ì¤‘<br><br>
                            <b class="text-slate-900 bg-blue-50 px-2 py-1 rounded">(ìì‹ ì˜ ë‚˜ì´)</b> <br> = <span class="text-blue-500 font-bold">ì•ˆì „í•œ íˆ¬ì(ì˜ˆê¸ˆ)</span> ë¹„ì¤‘
                        </p>
                    </div>
                    <p class="text-sm text-slate-500 bg-slate-100 p-4 rounded-xl">
                        ğŸ’¡ <b>ì™œ ê·¸ëŸ´ê¹Œìš”?</b><br>ì Šì„ ë•ŒëŠ” ì‹¤íŒ¨í•´ë„ ë‹¤ì‹œ ë²Œ ì‹œê°„ì´ ìˆì–´ ê³µê²©ì ìœ¼ë¡œ,<br>
                        ë‚˜ì´ê°€ ë“¤ë©´ ì€í‡´ ìê¸ˆì„ ì§€í‚¤ê¸° ìœ„í•´ ì•ˆì „í•˜ê²Œ íˆ¬ìí•˜ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤.
                    </p>
                </div>

                <!-- ì¸í„°ë™í‹°ë¸Œ ê³„ì‚°ê¸° -->
                <div class="bg-white p-8 rounded-2xl shadow-lg border-2 border-pink-100 text-center">
                    <label class="block font-bold text-slate-700 mb-6 text-xl animate-bounce-gentle">ğŸ‘‡ ìŠ¬ë¼ì´ë”ë¡œ ë‚˜ì´ë¥¼ ì¡°ì ˆí•´ë³´ì„¸ìš”!</label>
                    
                    <div class="flex items-center gap-4 mb-8">
                        <span class="text-3xl">ğŸ‘¶</span>
                        <input type="range" min="0" max="100" value="20" class="range-slider flex-1" id="age-slider" oninput="updateChart(this.value)">
                        <span class="text-3xl">ğŸ‘´</span>
                    </div>
                    
                    <div class="font-bold text-3xl mb-6 text-slate-800">
                        í˜„ì¬ ë‚˜ì´: <span id="age-display" class="text-pink-600 font-black">20</span>ì„¸
                    </div>
                    
                    <!-- ì°¨íŠ¸ -->
                    <div class="w-56 h-56 mx-auto relative mb-6">
                        <canvas id="portfolioChart"></canvas>
                    </div>
                    
                    <div class="flex justify-center gap-6 text-sm font-bold bg-slate-50 p-3 rounded-xl">
                        <span class="text-red-500 flex items-center gap-1"><span class="w-3 h-3 bg-red-500 rounded-full inline-block"></span> ê³µê²©í˜•: <span id="stock-pct" class="text-lg">80</span>%</span>
                        <span class="text-blue-500 flex items-center gap-1"><span class="w-3 h-3 bg-blue-500 rounded-full inline-block"></span> ì•ˆì „í˜•: <span id="safe-pct" class="text-lg">20</span>%</span>
                    </div>
                </div>
            </div>

            <div class="flex justify-between mt-8">
                <button onclick="prevSlide(3)" class="text-slate-400 hover:text-slate-600 font-bold px-4 py-2 hover:bg-slate-100 rounded-lg transition">â—€ ì´ì „</button>
                <button onclick="nextSlide(5)" class="bg-indigo-600 text-white px-8 py-3 rounded-xl hover:bg-indigo-700 font-bold shadow-md transition-transform hover:scale-105">ë‹¤ìŒ: ì‹¤ì „ í¬íŠ¸í´ë¦¬ì˜¤ â–¶</button>
            </div>
        </div>

        <!-- Slide 5: ì‹¤ì „ ë¯¸ì…˜ (40ì„¸ ê°€ì¥) -->
        <div id="slide-5" class="slide-container">
            <h2 class="jua text-3xl text-slate-800 mb-6 border-l-8 border-purple-500 pl-4">04. í•œ ê±¸ìŒ ë‚˜ì•„ê°€ê¸°</h2>
            
            <div class="bg-white p-8 rounded-3xl shadow-lg border border-slate-200">
                <div class="flex items-center gap-4 mb-6 border-b pb-4">
                    <div class="bg-purple-100 p-4 rounded-full text-4xl">ğŸ‘¨â€ğŸ’¼</div>
                    <div>
                        <h3 class="font-bold text-2xl text-slate-800">ë¯¸ì…˜: 40ì„¸ì˜ í¬íŠ¸í´ë¦¬ì˜¤</h3>
                        <p class="text-slate-500 text-lg">ì—¬ëŸ¬ë¶„ì´ ì´ì œ 40ì„¸ ê°€ì¥ì´ë¼ê³  ê°€ì •í•´ ë´…ì‹œë‹¤.<br>ìë…€ êµìœ¡ë¹„ì™€ ë…¸í›„ ì¤€ë¹„ë¥¼ ë™ì‹œì— í•´ì•¼ í•©ë‹ˆë‹¤.</p>
                    </div>
                </div>

                <div class="mb-6 bg-purple-50 p-5 rounded-2xl border border-purple-200 text-slate-700 leading-relaxed">
                    <span class="font-bold text-purple-600 text-lg block mb-2">ğŸ’¡ í¬íŠ¸í´ë¦¬ì˜¤ ì‘ì„± íŒ</span>
                    <ul class="list-disc list-inside space-y-1 text-sm md:text-base">
                        <li>'100-ë‚˜ì´ ë²•ì¹™'ì— ë”°ë¥´ë©´ <b>ê³µê²©í˜• 60% : ì•ˆì „í˜• 40%</b>ê°€ ê¸°ì¤€ì…ë‹ˆë‹¤.</li>
                        <li>í•˜ì§€ë§Œ ê°œì¸ ìƒí™©ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                        <li>ì˜ˆê¸ˆ, ì£¼ì‹, ì±„ê¶Œ, í€ë“œ, ë³´í—˜ì„ ì ì ˆíˆ ì„ì–´ë³´ì„¸ìš”.</li>
                    </ul>
                </div>

                <label class="block text-slate-800 font-bold mb-3 text-lg">ë‚˜ë§Œì˜ ìì‚° ë°°ë¶„ ê³„íšì„ ì ì–´ë³´ì„¸ìš”.</label>
                <textarea id="portfolio-text" class="w-full p-5 bg-slate-50 border-2 border-slate-200 rounded-2xl h-40 focus:border-purple-500 outline-none resize-none mb-6 text-slate-700 text-lg" placeholder="ì˜ˆì‹œ: ì €ëŠ” ì•ˆì „ì„ ì¤‘ì‹œí•´ì„œ ì˜ˆê¸ˆ 40%, ì±„ê¶Œ 20%ë¥¼ ë‹´ê³ , ìˆ˜ìµì„ ìœ„í•´ ì£¼ì‹ 30%, í€ë“œ 10%ë¡œ ë‚˜ëˆ„ê² ìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ”..."></textarea>
                
                <div class="flex items-center justify-between">
                    <span class="text-sm text-slate-400">ìˆ˜ì‹ : kstephul6@naver.com</span>
                    <button onclick="submitPortfolio()" class="bg-purple-600 hover:bg-purple-700 text-white jua text-xl py-3 px-10 rounded-xl shadow-lg transition-transform hover:scale-105 flex items-center gap-2">
                        <span>ğŸ“¤ ì œì¶œ ë° ìˆ˜ì—… ì¢…ë£Œ</span>
                    </button>
                </div>
            </div>

            <div class="text-center mt-12">
                <button onclick="nextSlide(1)" class="text-slate-400 hover:text-slate-600 underline text-sm">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
            </div>
        </div>

    </main>

    <script>
        // --- 1. ìŠ¬ë¼ì´ë“œ ì´ë™ ---
        function nextSlide(n) {
            document.querySelectorAll('.slide-container').forEach(el => el.classList.remove('slide-active'));
            document.getElementById('slide-' + n).classList.add('slide-active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        function prevSlide(n) { nextSlide(n); }

        // --- 2. TTS ---
        function speak(text) {
            window.speechSynthesis.cancel();
            const u = new SpeechSynthesisUtterance(text);
            u.lang = 'ko-KR';
            u.rate = 1.0; // ì†ë„ ì¡°ì ˆ
            window.speechSynthesis.speak(u);
        }

        // --- 3. ê·¸ë˜í”„ ê²Œì„ ë¡œì§ ---
        let currentQuestIndex = 0;
        const quests = [
            { id: 'stock', name: 'ì£¼ì‹', desc: 'ìˆ˜ìµì„± ë†’ìŒ / ì•ˆì „ì„± ë‚®ìŒ (A êµ¬ì—­)', zoneHint: 'A êµ¬ì—­' },
            { id: 'deposit', name: 'ì˜ˆê¸ˆ', desc: 'ì•ˆì „ì„± ë†’ìŒ / ìˆ˜ìµì„± ë‚®ìŒ (C êµ¬ì—­)', zoneHint: 'C êµ¬ì—­' },
            { id: 'bond', name: 'ì±„ê¶Œ', desc: 'ì¤‘ê°„ ìˆ˜ìµ / ì¤‘ê°„ ìœ„í—˜ (B êµ¬ì—­)', zoneHint: 'B êµ¬ì—­' }
        ];
        
        function updateQuestDisplay() {
            if (currentQuestIndex < quests.length) {
                document.getElementById('game-quest').innerText = quests[currentQuestIndex].name;
                document.getElementById('game-feedback').innerText = "";
                // ì´ˆê¸°í™”
                document.querySelectorAll('.drop-target').forEach(el => {
                    el.classList.remove('correct', 'wrong');
                    el.style.pointerEvents = 'auto';
                });
            } else {
                // ê²Œì„ ì™„ë£Œ
                document.getElementById('game-quest').innerText = "Clear!";
                document.getElementById('game-feedback').innerHTML = "<span class='text-green-600'>ğŸ‰ ëª¨ë“  ìì‚°ì˜ ìœ„ì¹˜ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤!</span>";
                const nextBtn = document.getElementById('btn-next-step3');
                nextBtn.classList.remove('opacity-50', 'pointer-events-none');
                nextBtn.innerText = "ë‹¤ìŒ: 100-ë‚˜ì´ ë²•ì¹™ â–¶";
                nextBtn.classList.add('animate-bounce');
                speak("ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ë¯¸ì…˜ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.");
            }
        }

        function checkGraphAnswer(zoneType, element) {
            const currentQ = quests[currentQuestIndex];
            
            // ì •ë‹µ ì²´í¬ ë¡œì§
            let isCorrect = false;
            if (currentQ.id === 'stock' && zoneType === 'stock') isCorrect = true;
            if (currentQ.id === 'deposit' && zoneType === 'deposit') isCorrect = true;
            if (currentQ.id === 'bond' && zoneType === 'bond') isCorrect = true;

            if (isCorrect) {
                element.classList.add('correct');
                document.getElementById('game-feedback').innerHTML = `â­• ì •ë‹µ! <b>${currentQ.name}</b>: ${currentQ.desc}`;
                speak("ì •ë‹µì…ë‹ˆë‹¤!");
                
                // ëª¨ë“  êµ¬ì—­ í´ë¦­ ë°©ì§€
                document.querySelectorAll('.drop-target').forEach(el => el.style.pointerEvents = 'none');
                
                // ë‹¤ìŒ ë¬¸ì œë¡œ (ë”œë ˆì´)
                setTimeout(() => {
                    currentQuestIndex++;
                    updateQuestDisplay();
                }, 1500);
            } else {
                element.classList.add('wrong');
                document.getElementById('game-feedback').innerHTML = "<span class='text-red-500'>âŒ ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”. ìˆ˜ìµì„±ê³¼ ì•ˆì „ì„±ì„ ë”°ì ¸ë³´ì„¸ìš”.</span>";
                speak("ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.");
                setTimeout(() => element.classList.remove('wrong'), 500);
            }
        }

        // --- 4. Chart.js (100-ë‚˜ì´ ë²•ì¹™) ---
        let myChart;
        function initChart() {
            const ctx = document.getElementById('portfolioChart').getContext('2d');
            myChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ê³µê²©í˜• (ì£¼ì‹ ë“±)', 'ì•ˆì „í˜• (ì˜ˆê¸ˆ ë“±)'],
                    datasets: [{
                        data: [80, 20], // ì´ˆê¸°ê°’ (20ì„¸ ê¸°ì¤€)
                        backgroundColor: ['#ef4444', '#3b82f6'],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    animation: { animateScale: true, animateRotate: true }
                }
            });
        }

        function updateChart(age) {
            document.getElementById('age-display').innerText = age;
            const stock = Math.max(0, 100 - age);
            const safe = Math.min(100, age); 
            
            document.getElementById('stock-pct').innerText = stock;
            document.getElementById('safe-pct').innerText = parseInt(age);

            myChart.data.datasets[0].data = [stock, age];
            myChart.update();
        }

        // ì´ˆê¸°í™”
        setTimeout(() => {
            initChart();
            updateQuestDisplay();
        }, 500);

        // --- 5. ì œì¶œ ê¸°ëŠ¥ ---
        function submitPortfolio() {
            if(document.getElementById('portfolio-text').value.length < 5) {
                alert("ë‚´ìš©ì„ ë” ì‘ì„±í•´ì£¼ì„¸ìš”!"); return;
            }
            // ëª¨ë‹¬ íš¨ê³¼
            const modal = document.createElement('div');
            modal.className = "fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm";
            modal.innerHTML = `
                <div class="bg-white p-8 rounded-3xl text-center shadow-2xl max-w-sm m-4 animate-[pop_0.3s_ease-out]">
                    <div class="text-6xl mb-4">ğŸ“§</div>
                    <h3 class="jua text-2xl text-slate-800 mb-2">ì „ì†¡ ì™„ë£Œ!</h3>
                    <p class="text-slate-600 mb-6">ì„ ìƒë‹˜(kstephul6@naver.com)ê»˜<br>í¬íŠ¸í´ë¦¬ì˜¤ê°€ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                    <button onclick="this.parentElement.parentElement.remove()" class="w-full bg-slate-800 text-white py-3 rounded-xl font-bold">í™•ì¸</button>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // --- 6. ë³´ì•ˆ ---
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || (e.ctrlKey && (e.key === 'u' || e.key === 'c'))) {
                e.preventDefault();
                alert('ğŸš« ê²½ê³ : ì´ ìë£ŒëŠ” ê²½ë¶êµìœ¡ì²­ ê¹€ìŠ¤ë°ë°˜ êµì‚¬ì˜ ì €ì‘ë¬¼ì…ë‹ˆë‹¤.');
            }
        });
    </script>
</body>
</html>