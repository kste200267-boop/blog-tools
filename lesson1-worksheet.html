<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1ì°¨ì‹œ: ìì‚° ê´€ë¦¬ì™€ ê¸ˆìœµ ìƒí™œ (ê¹€ìŠ¤ë°ë°˜ T)</title>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ìœ íŠœë¸Œ API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background: #f8fafc; color: #1e293b; user-select: none; overflow-x: hidden; }
        .jua { font-family: 'Jua', sans-serif; }
        
        /* ìŠ¬ë¼ì´ë“œ ì»¨í…Œì´ë„ˆ */
        .slide-container { display: none; animation: fadeIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards; min-height: 70vh; padding-bottom: 80px; }
        .slide-active { display: block; }
        
        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        
        /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .concept-card { 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            cursor: pointer; border: 3px solid transparent; overflow: hidden;
            background: white; position: relative;
        }
        .concept-card:hover { transform: translateY(-8px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); border-color: #3b82f6; }
        .concept-card.playing { border-color: #ef4444; background-color: #fff1f2; transform: scale(1.02); }
        .concept-card img { transition: transform 0.5s; width: 100%; height: 100%; object-fit: cover; }
        .concept-card:hover img { transform: scale(1.1); }
        
        /* ì´ë¯¸ì§€ ëŒ€ì²´ìš©(ì—ëŸ¬ ì‹œ) */
        .img-fallback { display: none; width: 100%; height: 100%; align-items: center; justify-content: center; font-size: 5rem; background: #f1f5f9; }
        
        /* êµìœ¡ê³¼ì • ë°°ì§€ */
        .badge { padding: 4px 12px; border-radius: 99px; font-size: 0.8rem; font-weight: bold; background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.2); }
        
        /* ì›Œí„°ë§ˆí¬ */
        .watermark { position: fixed; bottom: 20px; right: 20px; font-size: 14px; color: rgba(0,0,0,0.2); font-weight: bold; pointer-events: none; z-index: 9999; }

        /* í€´ì¦ˆ ìŠ¤íƒ€ì¼ */
        .quiz-opt { transition: all 0.2s; }
        .quiz-opt:hover { background-color: #f1f5f9; }
        .quiz-correct { background-color: #dcfce7 !important; border-color: #22c55e !important; color: #15803d; }
        .quiz-wrong { background-color: #fee2e2 !important; border-color: #ef4444 !important; color: #b91c1c; }

        /* ë¹„ë””ì˜¤ ëª¨ë‹¬ */
        #video-modal {
            display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.9);
            z-index: 99999; align-items: center; justify-content: center; backdrop-filter: blur(5px);
        }
        .modal-content {
            background: black; width: 90%; max-width: 960px; aspect-ratio: 16/9;
            border-radius: 20px; overflow: hidden; position: relative; 
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8); border: 1px solid #333;
        }
        
        /* ë‹«ê¸° ë²„íŠ¼ */
        .close-btn {
            position: absolute; top: -50px; right: 0; 
            color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer;
            background: rgba(255,255,255,0.1); padding: 8px 20px; border-radius: 99px;
            border: 1px solid rgba(255,255,255,0.2); transition: all 0.3s;
        }
        .close-btn.disabled { opacity: 0.5; cursor: not-allowed; background: #333; pointer-events: none; }
        
        /* ì—ëŸ¬ ë°œìƒ ì‹œ ê¸´ê¸‰ ë²„íŠ¼ */
        .emergency-btn {
            display: none; position: absolute; bottom: -60px; left: 50%; transform: translateX(-50%);
            background: #ef4444; color: white; padding: 10px 20px; border-radius: 99px; font-weight: bold; cursor: pointer;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4); animation: fadeIn 0.5s;
        }

        /* ë½ ê±¸ë¦° ë²„íŠ¼ */
        .btn-locked { background-color: #94a3b8 !important; cursor: not-allowed; opacity: 0.7; }

        /* ë“£ê¸° ë°°ì§€ */
        .listen-badge {
            position: absolute; bottom: 10px; right: 10px; z-index: 10;
            background: rgba(255,255,255,0.9); padding: 4px 10px; border-radius: 20px;
            font-size: 0.75rem; font-weight: bold; color: #475569;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    
/* ì „ì²´í™”ë©´ ì´íƒˆ ê²½ê³  */
.fs-warning-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.92);z-index:9999;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1.5rem;animation:fadeIn .3s}
.fs-warning-overlay .warn-icon{font-size:4rem}
.fs-warning-overlay .warn-title{font-size:1.5rem;font-weight:900;color:#fbbf24}
.fs-warning-overlay .warn-msg{font-size:1rem;color:#94a3b8;text-align:center;max-width:320px;line-height:1.6}
.fs-warning-overlay .warn-btn{padding:14px 40px;background:linear-gradient(135deg,#3b82f6,#8b5cf6);border:none;border-radius:12px;color:#fff;font-size:1.1rem;font-weight:700;cursor:pointer;transition:transform .2s}
.fs-warning-overlay .warn-btn:hover{transform:scale(1.05)}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
.blog-badge{position:fixed;bottom:12px;right:12px;z-index:100;background:rgba(15,23,42,0.85);border:1px solid #334155;border-radius:10px;padding:6px 14px;font-size:0.75rem;color:#94a3b8;text-decoration:none;backdrop-filter:blur(8px);transition:all .3s;display:flex;align-items:center;gap:6px}
.blog-badge:hover{background:rgba(59,130,246,0.2);border-color:#3b82f6;color:#60a5fa}

</style>
</head>
<body class="p-4 md:p-8 min-h-screen flex flex-col" oncontextmenu="return false" ondragstart="return false" onselectstart="return false">

    <!-- ì›Œí„°ë§ˆí¬ -->
    <div class="watermark">Designed by ê²½ë¶êµìœ¡ì²­ êµì‚¬ ê¹€ìŠ¤ë°ë°˜ (ë¬´ë‹¨ ë°°í¬ ê¸ˆì§€)</div>

    <!-- ë¹„ë””ì˜¤ ëª¨ë‹¬ì°½ -->
    <div id="video-modal">
        <div class="relative w-full max-w-5xl mx-auto px-4">
            <button id="modal-close-btn" class="close-btn disabled" onclick="closeVideo()">
                ğŸ”’ ì‹œì²­ ì¤‘... (ëê¹Œì§€ ë´ì•¼ ë‹«í˜)
            </button>
            <div class="modal-content relative">
                <div id="player"></div>
                <!-- ë¡œë”©/ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ ì˜ì—­ -->
                <div id="video-msg" class="absolute inset-0 flex items-center justify-center text-white pointer-events-none hidden bg-black">
                    <p>ì˜ìƒ ë¡œë”© ì¤‘...</p>
                </div>
            </div>
            <!-- ê¸´ê¸‰ ê±´ë„ˆë›°ê¸° ë²„íŠ¼ (ì—ëŸ¬ ì‹œ í‘œì‹œ) -->
            <button id="emergency-skip-btn" class="emergency-btn" onclick="forceSkipVideo()">
                âš ï¸ ì˜ìƒ ì¬ìƒì´ ì•ˆ ë˜ë‚˜ìš”? [ê±´ë„ˆë›°ê¸°]
            </button>
        </div>
    </div>

    <!-- ìƒë‹¨ í—¤ë” -->
    <header class="bg-slate-900 text-white p-6 rounded-[2rem] shadow-xl mb-8 relative overflow-hidden border-t-4 border-emerald-500">
        <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl">ğŸ«</div>
        <div class="relative z-10 text-center">
            <div class="flex flex-wrap justify-center gap-2 mb-4">
                <span class="badge text-emerald-300">í†µí•©ì‚¬íšŒ</span>
                <span class="badge text-blue-300">IV. ì‹œì¥ ê²½ì œì™€ ì§€ì†ê°€ëŠ¥ë°œì „</span>
                <span class="badge text-yellow-300">3. ìì‚° ê´€ë¦¬ì™€ ê¸ˆìœµ ìƒí™œ</span>
            </div>
            <div class="bg-slate-800/50 rounded-xl p-4 max-w-4xl mx-auto border border-slate-700/50 backdrop-blur-sm">
                <span class="text-emerald-400 font-bold mr-2 text-sm md:text-base">[10í†µì‚¬2-03-03]</span>
                <span class="text-slate-300 text-sm md:text-base font-light leading-relaxed break-keep">
                    ê¸ˆìœµ ìì‚°ì˜ íŠ¹ì§•ê³¼ ìì‚° ê´€ë¦¬ì˜ ì›ì¹™ì„ í† ëŒ€ë¡œ ê¸ˆìœµ ìƒí™œì„ ì„¤ê³„í•˜ê³ , ê²½ì œì , ì‚¬íšŒì  í™˜ê²½ì˜ ë³€í™”ê°€ ê¸ˆìœµê³¼ ê´€ë ¨í•œ ì˜ì‚¬ ê²°ì •ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ íƒêµ¬í•œë‹¤.
                </span>
            </div>
        </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="max-w-6xl mx-auto w-full flex-1 relative">
        
        <!-- Slide 1: ì˜¤í”„ë‹ -->
        <div id="slide-1" class="slide-container slide-active flex flex-col items-center justify-center text-center py-10 rounded-3xl bg-white border border-slate-200 shadow-sm relative overflow-hidden">
            <div class="absolute inset-0 opacity-10">
                <img src="https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?auto=format&fit=crop&w=1951&q=80" class="w-full h-full object-cover" onerror="this.style.display='none'">
            </div>
            <div class="relative z-10">
                <div class="text-8xl mb-6 drop-shadow-md animate-bounce">ğŸ’°</div>
                <h1 class="jua text-5xl md:text-6xl text-slate-800 mb-6">ìì‚° ê´€ë¦¬ì™€ ê¸ˆìœµ ìƒí™œ</h1>
                <p class="text-xl text-slate-500 mb-10 max-w-2xl leading-relaxed mx-auto">
                    "ëˆì„ ëª¨ìœ¼ëŠ” ê²ƒë³´ë‹¤ ì§€í‚¤ê³  ë¶ˆë¦¬ëŠ” ê²ƒì´ ë” ì¤‘ìš”í•©ë‹ˆë‹¤."<br>
                    <span class="text-emerald-600 font-bold">ì´ë¯¸ì§€</span>ì™€ <span class="text-red-500 font-bold">ì˜ìƒ</span>ìœ¼ë¡œ ì‰½ê³  ì¬ë¯¸ìˆê²Œ ë°°ì›Œë´…ì‹œë‹¤.
                </p>
                <button onclick="document.documentElement.requestFullscreen().catch(function(){});nextSlide(2)" class="bg-emerald-600 hover:bg-emerald-700 text-white text-2xl jua py-4 px-12 rounded-2xl shadow-lg transition-transform hover:scale-105 flex items-center gap-3 mx-auto">
                    <span>ìˆ˜ì—… ì‹œì‘í•˜ê¸° â–¶</span>
                </button>
            </div>
        </div>

        <!-- Slide 2: ìì‚°ì˜ ê°œë… -->
        <div id="slide-2" class="slide-container">
            <h2 class="jua text-3xl text-slate-800 mb-6 border-l-8 border-emerald-500 pl-4">01. ìì‚°ì´ë€ ë¬´ì—‡ì¸ê°€?</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                <!-- ê¸ˆìœµ ìì‚° -->
                <div class="concept-card rounded-3xl shadow-md group" onclick="speakText(this, 'ê¸ˆìœµ ìì‚°ì€ ì˜ˆê¸ˆ, ì£¼ì‹, ì±„ê¶Œì²˜ëŸ¼ í˜•ì²´ëŠ” ì—†ì§€ë§Œ í™”íë¡œ ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆëŠ” ìì‚°ì„ ë§í•©ë‹ˆë‹¤. ì§€ê¸ˆ ë³´ì‹œëŠ” ë””ì§€í„¸ ìˆ«ìë‚˜ ì¦ì„œê°€ ë°”ë¡œ ê¸ˆìœµ ìì‚°ì…ë‹ˆë‹¤.')">
                    <div class="h-56 overflow-hidden relative bg-blue-50">
                        <img src="https://images.unsplash.com/photo-1611974765270-ca12586343bb?auto=format&fit=crop&w=800&q=80" alt="ê¸ˆìœµ ìì‚°" onerror="handleImgError(this, 'ğŸ’³')">
                        <div class="img-fallback">ğŸ’³</div>
                        <div class="listen-badge">ğŸ”Š í´ë¦­í•´ì„œ ë“£ê¸°</div>
                    </div>
                    <div class="p-6">
                        <h3 class="jua text-3xl text-center text-blue-600 mb-4">ğŸ’³ ê¸ˆìœµ ìì‚°</h3>
                        <ul class="space-y-3 text-slate-600">
                            <li><span class="font-bold text-blue-500">â—</span> í˜•ì²´ê°€ ì—†ëŠ” ê°€ì¹˜ (ê¶Œë¦¬)</li>
                            <li><span class="font-bold text-blue-500">â—</span> ì˜ˆê¸ˆ, ì£¼ì‹, ì±„ê¶Œ ë“±</li>
                        </ul>
                    </div>
                </div>
                <!-- ì‹¤ë¬¼ ìì‚° -->
                <div class="concept-card rounded-3xl shadow-md group" onclick="speakText(this, 'ì‹¤ë¬¼ ìì‚°ì€ í† ì§€, ê±´ë¬¼, ê¸ˆì²˜ëŸ¼ ëˆˆì— ë³´ì´ëŠ” í˜•ì²´ê°€ ìˆëŠ” ìì‚°ì…ë‹ˆë‹¤. ë¬¼ê°€ ìƒìŠ¹ê¸°ì—ëŠ” ìœ ë¦¬í•˜ì§€ë§Œ, ê¸‰í•  ë•Œ í˜„ê¸ˆìœ¼ë¡œ ë°”ê¾¸ê¸°ëŠ” ì–´ë µìŠµë‹ˆë‹¤.')">
                    <div class="h-56 overflow-hidden relative bg-amber-50">
                        <img src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?auto=format&fit=crop&w=800&q=80" alt="ì‹¤ë¬¼ ìì‚°" onerror="handleImgError(this, 'ğŸ¢')">
                        <div class="img-fallback">ğŸ¢</div>
                        <div class="listen-badge">ğŸ”Š í´ë¦­í•´ì„œ ë“£ê¸°</div>
                    </div>
                    <div class="p-6">
                        <h3 class="jua text-3xl text-center text-amber-600 mb-4">ğŸ¢ ì‹¤ë¬¼ ìì‚°</h3>
                        <ul class="space-y-3 text-slate-600">
                            <li><span class="font-bold text-amber-500">â—</span> í˜•ì²´ê°€ ìˆëŠ” ë¬¼ê±´ (ë¶€ë™ì‚°, ê¸ˆ)</li>
                            <li><span class="font-bold text-amber-500">â—</span> ì¸í”Œë ˆì´ì…˜ ë°©ì–´ ìœ ë¦¬</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="flex justify-between mt-8">
                <button onclick="prevSlide(1)" class="text-slate-400 hover:text-slate-600 font-bold">â—€ ì´ì „</button>
                <button onclick="nextSlide(3)" class="bg-slate-800 text-white px-8 py-3 rounded-xl hover:bg-slate-700">ë‹¤ìŒ: ì£¼ìš” ê¸ˆìœµ ìƒí’ˆ â–¶</button>
            </div>
        </div>

        <!-- Slide 3: ì£¼ìš” ê¸ˆìœµ ìƒí’ˆ ë° ì˜ìƒ í•™ìŠµ -->
        <div id="slide-3" class="slide-container">
            <h2 class="jua text-3xl text-slate-800 mb-4 border-l-8 border-blue-500 pl-4">02. ì£¼ìš” ê¸ˆìœµ ìƒí’ˆ ë¹„êµ</h2>

            <!-- ì˜ìƒ í•™ìŠµê´€ (í•„ìˆ˜) -->
            <div class="bg-white p-6 rounded-3xl border-2 border-slate-200 shadow-sm mb-8 relative overflow-hidden">
                <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                    <div>
                        <span class="bg-red-600 text-white px-3 py-1 rounded-lg text-sm font-bold animate-pulse">í•„ìˆ˜ ì‹œì²­</span>
                        <h3 class="jua text-2xl text-slate-800 mt-2">ğŸ“º ì˜ìƒ í•™ìŠµê´€</h3>
                        <p class="text-sm text-slate-500">ì˜ìƒì„ ë‹¤ ë´ì•¼ ë‹¤ìŒ ë²„íŠ¼ì´ ì—´ë¦½ë‹ˆë‹¤.</p>
                    </div>
                    <div class="flex gap-3">
                        <!-- ID êµì²´: TED-Ed ì£¼ì‹ì‹œì¥ (í¼ê°€ê¸° í—ˆìš©ë¨) -->
                        <button onclick="playVideo('p7HKvqRI_Bo')" class="flex items-center gap-2 bg-slate-50 px-5 py-3 rounded-full border border-slate-300 hover:bg-red-50 hover:border-red-500 hover:text-red-600 transition font-bold">
                            â–¶ ì£¼ì‹ ì‹œì¥ì˜ ì›ë¦¬ (TED-Ed)
                        </button>
                    </div>
                </div>
                <!-- ì™„ë£Œ ë©”ì‹œì§€ -->
                <div id="watch-msg" class="hidden mt-4 bg-emerald-100 text-emerald-800 p-3 rounded-xl text-center font-bold">
                    âœ… ì‹œì²­ ì™„ë£Œ! ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- ì˜ˆê¸ˆ -->
                <div class="concept-card rounded-2xl shadow-sm border-t-4 border-blue-500" onclick="speakText(this, 'ì˜ˆê¸ˆì€ ì€í–‰ì— ëˆì„ ë§¡ê¸°ëŠ” ê²ƒì…ë‹ˆë‹¤. ìˆ˜ìµì€ ë‚®ì§€ë§Œ ê°€ì¥ ì•ˆì „í•©ë‹ˆë‹¤.')">
                    <div class="h-32 overflow-hidden relative bg-blue-50">
                        <img src="https://images.unsplash.com/photo-1601597111158-2fceff292cdc?auto=format&fit=crop&w=500&q=60" alt="ì˜ˆê¸ˆ" onerror="handleImgError(this, 'ğŸ¦')">
                        <div class="img-fallback">ğŸ¦</div>
                        <div class="listen-badge text-xs">ğŸ”Š</div>
                    </div>
                    <div class="p-5">
                        <h3 class="jua text-2xl mb-1 text-slate-800">ğŸ¦ ì˜ˆê¸ˆ</h3>
                        <div class="text-sm font-bold text-blue-600 mb-2">#ì•ˆì „ì„±_ìµœê³  #ì €ìˆ˜ìµ</div>
                        <p class="text-sm text-slate-600">ì€í–‰ì— ë§¡ê¸°ê³  ì´ì ë°›ìŒ.<br><b>ì˜ˆê¸ˆì ë³´í˜¸(5ì²œë§Œì›)</b> ì ìš©.</p>
                    </div>
                </div>
                <!-- ì±„ê¶Œ -->
                <div class="concept-card rounded-2xl shadow-sm border-t-4 border-green-500" onclick="speakText(this, 'ì±„ê¶Œì€ ëˆì„ ë¹Œë ¤ì£¼ê³  ë°›ëŠ” ì°¨ìš©ì¦ì…ë‹ˆë‹¤. ì£¼ì‹ë³´ë‹¤ ì•ˆì „í•˜ê³  ì˜ˆê¸ˆë³´ë‹¤ ì´ìê°€ ë†’ìŠµë‹ˆë‹¤.')">
                    <div class="h-32 overflow-hidden relative bg-green-50">
                        <img src="https://images.unsplash.com/photo-1554224155-8d04cb21cd6c?auto=format&fit=crop&w=500&q=60" alt="ì±„ê¶Œ" onerror="handleImgError(this, 'ğŸ“œ')">
                        <div class="img-fallback">ğŸ“œ</div>
                        <div class="listen-badge text-xs">ğŸ”Š</div>
                    </div>
                    <div class="p-5">
                        <h3 class="jua text-2xl mb-1 text-slate-800">ğŸ“œ ì±„ê¶Œ</h3>
                        <div class="text-sm font-bold text-green-600 mb-2">#ì¤‘ìœ„í—˜ #ì¤‘ìˆ˜ìµ</div>
                        <p class="text-sm text-slate-600">ì •ë¶€/ê¸°ì—…ì˜ <b>ì°¨ìš©ì¦</b>.<br>ì´ì ìˆ˜ìµ + ë§¤ë§¤ ì°¨ìµ ê¸°ëŒ€.</p>
                    </div>
                </div>
                <!-- ì£¼ì‹ -->
                <div class="concept-card rounded-2xl shadow-sm border-t-4 border-red-500" onclick="speakText(this, 'ì£¼ì‹ì€ íšŒì‚¬ì˜ ì§€ë¶„ì…ë‹ˆë‹¤. ëŒ€ë°•ì´ ë‚  ìˆ˜ë„ ìˆì§€ë§Œ, ìª½ë°•ì„ ì°° ìˆ˜ë„ ìˆëŠ” ê³ ìœ„í—˜ ìƒí’ˆì…ë‹ˆë‹¤.')">
                    <div class="h-32 overflow-hidden relative bg-red-50">
                        <img src="https://images.unsplash.com/photo-1611974765270-ca12586343bb?auto=format&fit=crop&w=500&q=60" alt="ì£¼ì‹" onerror="handleImgError(this, 'ğŸ“ˆ')">
                        <div class="img-fallback">ğŸ“ˆ</div>
                        <div class="listen-badge text-xs">ğŸ”Š</div>
                    </div>
                    <div class="p-5">
                        <h3 class="jua text-2xl mb-1 text-slate-800">ğŸ“ˆ ì£¼ì‹</h3>
                        <div class="text-sm font-bold text-red-600 mb-2">#ê³ ìœ„í—˜ #ê³ ìˆ˜ìµ</div>
                        <p class="text-sm text-slate-600">íšŒì‚¬ì˜ ì£¼ì¸(ì£¼ì£¼)ì´ ë¨.<br><b>ë°°ë‹¹ê¸ˆ</b> + <b>ì‹œì„¸ ì°¨ìµ</b>.</p>
                    </div>
                </div>
            </div>

            <div class="flex justify-between mt-8">
                <button onclick="prevSlide(2)" class="text-slate-400 hover:text-slate-600 font-bold">â—€ ì´ì „</button>
                <button id="btn-next-step3" onclick="checkVideoAndNext()" class="btn-locked bg-slate-800 text-white px-8 py-3 rounded-xl transition-all relative">
                    <span id="btn-text-step3">ğŸ”’ ì˜ìƒ ì‹œì²­ í•„ìš”</span>
                </button>
            </div>
        </div>

        <!-- Slide 4: í˜•ì„± í‰ê°€ í€´ì¦ˆ -->
        <div id="slide-4" class="slide-container">
            <h2 class="jua text-3xl text-slate-800 mb-6 border-l-8 border-yellow-400 pl-4">03. ë°°ìš´ ë‚´ìš© í™•ì¸í•˜ê¸°</h2>
            <div class="space-y-6 max-w-3xl mx-auto">
                <!-- Q1 -->
                <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                    <div class="flex items-start gap-3 mb-4"><span class="bg-slate-800 text-white px-3 py-1 rounded-lg font-bold text-sm">Q1</span><h3 class="text-lg font-bold">ë‹¤ìŒ ì¤‘ 'ê¸ˆìœµ ìì‚°'ì´ ì•„ë‹Œ ê²ƒì€?</h3></div>
                    <div class="grid grid-cols-2 gap-3">
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, false, 'ì˜ˆê¸ˆì€ ê¸ˆìœµ ìì‚°ì…ë‹ˆë‹¤.')">1. ì€í–‰ ì˜ˆê¸ˆ</button>
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, true, 'ì •ë‹µ! ì•„íŒŒíŠ¸ëŠ” ì‹¤ë¬¼ ìì‚°ì…ë‹ˆë‹¤.')">2. ì•„íŒŒíŠ¸</button>
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, false, 'ì£¼ì‹ì€ ê¸ˆìœµ ìì‚°ì…ë‹ˆë‹¤.')">3. ì‚¼ì„±ì „ì ì£¼ì‹</button>
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, false, 'ì±„ê¶Œì€ ê¸ˆìœµ ìì‚°ì…ë‹ˆë‹¤.')">4. êµ­ì±„</button>
                    </div>
                    <div class="feedback hidden"></div>
                </div>
                <!-- Q2 -->
                <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                    <div class="flex items-start gap-3 mb-4"><span class="bg-slate-800 text-white px-3 py-1 rounded-lg font-bold text-sm">Q2</span><h3 class="text-lg font-bold">ì˜ˆê¸ˆì ë³´í˜¸ ì œë„ì˜ í•œë„ëŠ”?</h3></div>
                    <div class="grid grid-cols-1 gap-3">
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, false, 'ì£¼ì‹ì€ ë³´í˜¸ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.')">1. ì£¼ì‹ íˆ¬ì ì†ì‹¤ ì „ì•¡ ë³´ìƒ</button>
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, false, 'ì±„ê¶Œì€ ë³´í˜¸ ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤.')">2. ì±„ê¶Œ ì›ê¸ˆ ë³´ì¥</button>
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, true, 'ì •ë‹µ! 1ì¸ë‹¹ 5ì²œë§Œ ì›ê¹Œì§€ì…ë‹ˆë‹¤.')">3. 1ì¸ë‹¹ 5ì²œë§Œ ì›</button>
                    </div>
                    <div class="feedback hidden"></div>
                </div>
                <!-- Q3 -->
                <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                    <div class="flex items-start gap-3 mb-4"><span class="bg-slate-800 text-white px-3 py-1 rounded-lg font-bold text-sm">Q3</span><h3 class="text-lg font-bold">"ê³„ë€ì„ í•œ ë°”êµ¬ë‹ˆì— ë‹´ì§€ ë§ˆë¼"ì˜ ì˜ë¯¸ëŠ”?</h3></div>
                    <div class="grid grid-cols-2 gap-3">
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, false, 'ìˆ˜ìµì„±ì€ ì´ìµì„ ë‚´ëŠ” ê²ƒì…ë‹ˆë‹¤.')">1. ìˆ˜ìµì„± ì¶”êµ¬</button>
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, false, 'ìœ ë™ì„±ì€ í˜„ê¸ˆí™” ì†ë„ì…ë‹ˆë‹¤.')">2. ìœ ë™ì„± í™•ë³´</button>
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, true, 'ì •ë‹µ! ìœ„í—˜ì„ ì¤„ì´ëŠ” ë¶„ì‚° íˆ¬ìì…ë‹ˆë‹¤.')">3. ë¶„ì‚° íˆ¬ì (ì•ˆì „ì„±)</button>
                        <button class="quiz-opt border rounded-xl p-3 text-left" onclick="checkAnswer(this, false, 'ë ˆë²„ë¦¬ì§€ëŠ” ë¹šì„ ì´ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.')">4. ë ˆë²„ë¦¬ì§€ íš¨ê³¼</button>
                    </div>
                    <div class="feedback hidden"></div>
                </div>
            </div>
            <div class="flex justify-between mt-8">
                <button onclick="prevSlide(3)" class="text-slate-400 hover:text-slate-600 font-bold">â—€ ì´ì „</button>
                <button onclick="nextSlide(5)" class="bg-slate-800 text-white px-8 py-3 rounded-xl hover:bg-slate-700">ë‹¤ìŒ: í™œë™ ì œì¶œ â–¶</button>
            </div>
        </div>

        <!-- Slide 5: ì œì¶œ -->
        <div id="slide-5" class="slide-container">
            <h2 class="jua text-3xl text-slate-800 mb-6 border-l-8 border-indigo-500 pl-4">04. í•™ìŠµ ì„±ì°° ë° ì œì¶œ</h2>
            <div class="bg-white p-8 rounded-3xl shadow-lg border border-slate-200">
                <label class="block text-slate-700 font-bold mb-3 text-lg">ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš© ì¤‘ ê°€ì¥ ê¸°ì–µì— ë‚¨ëŠ” ê°œë…ì€?</label>
                <textarea id="reflection-text" class="w-full p-4 bg-slate-50 border-2 border-slate-200 rounded-2xl h-32 focus:border-indigo-500 outline-none resize-none mb-6 text-slate-700" placeholder="ì˜ˆ: ì˜ˆê¸ˆì ë³´í˜¸ í•œë„ê°€ 5ì²œë§Œ ì›ì´ë¼ëŠ” ì ì´ ê¸°ì–µì— ë‚¨ìŠµë‹ˆë‹¤."></textarea>
                <div class="flex items-center justify-between">
                    <span class="text-sm text-slate-400">ìˆ˜ì‹ : <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f59e868190859d8099c3b59b94839087db969a98">[email&#160;protected]</a></span>
                    <button onclick="submitReflection()" class="bg-indigo-600 hover:bg-indigo-700 text-white jua text-xl py-3 px-10 rounded-xl shadow-lg transition-transform hover:scale-105 flex items-center gap-2"><span>ğŸ“¤ ê³¼ì œ ì œì¶œí•˜ê¸°</span></button>
                </div>
            </div>
            <div class="text-center mt-12"><button onclick="nextSlide(1)" class="text-slate-400 hover:text-slate-600 underline text-sm">ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</button></div>
        </div>
    </main>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
        // --- 1. ì´ë¯¸ì§€ ì—ëŸ¬ ì²˜ë¦¬ ---
        function handleImgError(img, icon) {
            img.style.display = 'none';
            const fallback = img.parentElement.querySelector('.img-fallback');
            if(fallback) {
                fallback.innerHTML = icon;
                fallback.style.display = 'flex';
            }
        }

        // --- 2. ìœ íŠœë¸Œ API ë° ì—ëŸ¬ ì²˜ë¦¬ (í•µì‹¬) ---
        var player;
        var isVideoWatched = false;
        var errorTimer;

        function onYouTubeIframeAPIReady() {
            // API ì¤€ë¹„ ì™„ë£Œ
        }

        function playVideo(videoId) {
            const modal = document.getElementById('video-modal');
            const closeBtn = document.getElementById('modal-close-btn');
            const emgBtn = document.getElementById('emergency-skip-btn');
            
            modal.style.display = 'flex';
            emgBtn.style.display = 'none'; // ì´ˆê¸°ì—” ê¸´ê¸‰ ë²„íŠ¼ ìˆ¨ê¹€

            if (!isVideoWatched) {
                closeBtn.classList.add('disabled');
                closeBtn.innerHTML = "ğŸ”’ ì‹œì²­ ì¤‘... (ëê¹Œì§€ ë´ì•¼ ë‹«í˜)";
            } else {
                closeBtn.classList.remove('disabled');
                closeBtn.innerHTML = "âœ… ë‹«ê¸°";
            }

            if (player) player.destroy();

            player = new YT.Player('player', {
                height: '100%', width: '100%', videoId: videoId,
                playerVars: { 'autoplay': 1, 'controls': 1, 'rel': 0 },
                events: {
                    'onStateChange': onPlayerStateChange,
                    'onError': onPlayerError // ì—ëŸ¬ ê°ì§€ ì¶”ê°€
                }
            });
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.ENDED) {
                completeVideo();
            }
        }

        // ì˜ìƒ ì—ëŸ¬ ë°œìƒ ì‹œ (153, 150, 100 ë“±)
        function onPlayerError(event) {
            console.error("YouTube Error:", event.data);
            const emgBtn = document.getElementById('emergency-skip-btn');
            const msg = document.getElementById('video-msg');
            
            // 2ì´ˆ ë’¤ ê¸´ê¸‰ ë²„íŠ¼ í‘œì‹œ
            setTimeout(() => {
                emgBtn.style.display = 'block';
                // ì—ëŸ¬ ë©”ì‹œì§€ëŠ” ëª¨ë‹¬ ë‚´ë¶€ì— í‘œì‹œ
                // alert ì“°ì§€ ì•ŠìŒ (ì‚¬ìš©ì ê²½í—˜ ì €í•˜)
            }, 2000);
        }

        function forceSkipVideo() {
            completeVideo();
            closeVideo();
            alert("âš ï¸ ì˜ìƒ ì˜¤ë¥˜ë¡œ ë‹¨ê³„ë¥¼ ê±´ë„ˆë›°ì—ˆìŠµë‹ˆë‹¤.");
        }

        function completeVideo() {
            isVideoWatched = true;
            const closeBtn = document.getElementById('modal-close-btn');
            closeBtn.classList.remove('disabled');
            closeBtn.innerHTML = "âœ… ë‹«ê¸° (ì™„ë£Œ)";
            
            const nextBtn = document.getElementById('btn-next-step3');
            const nextTxt = document.getElementById('btn-text-step3');
            const msg = document.getElementById('watch-msg');
            
            nextBtn.classList.remove('btn-locked');
            nextBtn.classList.add('hover:bg-slate-700');
            nextTxt.innerText = "ë‹¤ìŒ: í˜•ì„± í‰ê°€ í€´ì¦ˆ â–¶";
            msg.classList.remove('hidden');
        }

        function closeVideo() {
            if (!isVideoWatched && player && player.getPlayerState && player.getPlayerState() !== 0) {
                 // ê°•ì œ ë‹«ê¸° ì‹œë„ ì‹œ ì—ëŸ¬ê°€ ë‚¬ë˜ ìƒí™©ì´ë©´ í—ˆìš©í•´ì•¼ í•¨
                 // ì—¬ê¸°ì„œëŠ” ë²„íŠ¼ ìì²´ê°€ disabledë¼ í´ë¦­ ì•ˆ ë¨
                 return;
            }
            const modal = document.getElementById('video-modal');
            if(player) player.stopVideo();
            modal.style.display = 'none';
        }

        function checkVideoAndNext() {
            if (!isVideoWatched) {
                alert("ğŸš« ì˜ìƒì„ ëê¹Œì§€ ì‹œì²­í•´ì•¼ í•©ë‹ˆë‹¤!");
                return;
            }
            nextSlide(4);
        }

        // --- 3. ìŠ¬ë¼ì´ë“œ ê³µí†µ ---
        function nextSlide(n) {
            if(n>=5){missionComplete=true;if(document.fullscreenElement)document.exitFullscreen().catch(function(){});}
            document.querySelectorAll('.slide-container').forEach(el => el.classList.remove('slide-active'));
            document.getElementById('slide-' + n).classList.add('slide-active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            window.speechSynthesis.cancel();
        }
        function prevSlide(n) { nextSlide(n); }
        function speakText(el, txt) {
            window.speechSynthesis.cancel();
            document.querySelectorAll('.concept-card').forEach(e => e.classList.remove('playing'));
            if(el.classList.contains('concept-card')) el.classList.add('playing');
            const u = new SpeechSynthesisUtterance(txt);
            u.lang = 'ko-KR'; u.rate = 1.0;
            window.speechSynthesis.speak(u);
            u.onend = function() { if(el.classList.contains('concept-card')) el.classList.remove('playing'); };
        }

        // --- 4. í€´ì¦ˆ/ì œì¶œ/ë³´ì•ˆ ---
        function checkAnswer(btn, isOk, txt) {
            const p = btn.parentElement;
            const fb = p.parentElement.querySelector('.feedback');
            Array.from(p.children).forEach(c => { c.classList.remove('quiz-correct','quiz-wrong'); c.disabled = true; });
            if(isOk) {
                btn.classList.add('quiz-correct');
                fb.innerHTML = "ğŸ‰ " + txt; fb.className = "feedback mt-3 text-sm font-bold text-emerald-600 block animate-bounce";
                window.speechSynthesis.speak(new SpeechSynthesisUtterance("ì •ë‹µì…ë‹ˆë‹¤!"));
            } else {
                btn.classList.add('quiz-wrong');
                fb.innerHTML = "âŒ " + txt; fb.className = "feedback mt-3 text-sm font-bold text-red-500 block";
                window.speechSynthesis.speak(new SpeechSynthesisUtterance("ì˜¤ë‹µì…ë‹ˆë‹¤."));
            }
        }
        function submitReflection() {
            if(document.getElementById('reflection-text').value.length < 5) { alert("ë‚´ìš©ì„ ë” ì‘ì„±í•´ì£¼ì„¸ìš”!"); return; }
            const m = document.createElement('div');
            m.className = "fixed inset-0 bg-black/50 flex items-center justify-center z-50 backdrop-blur-sm";
            m.innerHTML = `<div class="bg-white p-8 rounded-3xl text-center shadow-2xl max-w-sm m-4"><div class="text-6xl mb-4">ğŸ“§</div><h3 class="jua text-2xl mb-2">ì „ì†¡ ì™„ë£Œ!</h3><p class="text-slate-600 mb-6">ì„ ìƒë‹˜ê»˜ ì „ë‹¬ë˜ì—ˆìŠµë‹ˆë‹¤.</p><button onclick="this.parentElement.parentElement.remove()" class="w-full bg-slate-800 text-white py-3 rounded-xl font-bold">í™•ì¸</button></div>`;
            document.body.appendChild(m);
        }
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F12' || (e.ctrlKey && (e.key === 'u' || e.key === 'U'))) { e.preventDefault(); }
        });
    </script>
<!-- ì „ì²´í™”ë©´ ì´íƒˆ ê²½ê³  -->
<div class="fs-warning-overlay" id="fs-warning" style="display:none">
  <div class="warn-icon">âš ï¸</div>
  <div class="warn-title">í•™ìŠµ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤!</div>
  <div class="warn-msg">ì „ì²´í™”ë©´ì„ ìœ ì§€í•´ì•¼ í•™ìŠµì„ ê³„ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>ë‹¤ì‹œ ì „ì²´í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ì„¸ìš”.</div>
  <button class="warn-btn" onclick="reEnterFullscreen()">ğŸ”’ ì „ì²´í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
</div>
<a href="https://kste200267-boop.github.io/blog-tools/hub-unit-economy.html" target="_blank" class="blog-badge">âœï¸ í’€ì–´ì“°ëŠ” ì‚¬íšŒí•™</a>
<script>
var missionComplete = false;
var isReEntering = false;
function reEnterFullscreen(){
  isReEntering = true;
  document.getElementById('fs-warning').style.display = 'none';
  document.documentElement.requestFullscreen().catch(function(){isReEntering=false;});
}
document.addEventListener('fullscreenchange', function(){
  if(!document.fullscreenElement && !missionComplete && !isReEntering){
    document.getElementById('fs-warning').style.display = 'flex';
  }
  if(document.fullscreenElement){
    isReEntering = false;
    document.getElementById('fs-warning').style.display = 'none';
  }
});
</script>
</body>
</html>
